Qx.prototype.Hj=QO(71,function(){return U(this,2)});uH.prototype.Hj=QO(70,g("F"));Ufa.prototype.Vq=QO(6,function(){return null!=F(this,5)});dn.prototype.Vq=QO(5,function(){return null!=F(this,1)});rv.prototype.Vq=QO(4,function(){return ev(this,2)});function DHd(a){Eb(a,"google::")||(a="google::"+a);a=Ob(a);return Kl(Il(Gl(Fl(new El,"https"),"plx.corp.google.com"),"/script/"),"a=qo|i="+a).toString()}
function EHd(){var a='<div class="'+Q("waffle-dataconnector-bigquery-consent-screen-content")+'"><p>';a=a+"Fogli richiede un'autorizzazione per collegarsi ai tuoi progetti BigQuery."+('</p><div class="'+Q("waffle-dataconnector-bigquery-consent-screen-authorize-button-wrapper")+'"></div></div>');return P(a)}
function FHd(){var a='<div class="'+Q("waffle-dataconnector-footer-sharing-message")+'">';return P(a+"Le tue credenziali di autenticazione sono sempre private e non vengono mai condivise con altri utenti.</div>")};function GHd(){var a=P,b='<div class="'+Q("waffle-dataconnector-modal-header")+'"><div class="'+Q("waffle-dataconnector-modal-title")+'"></div><div class="'+Q("waffle-dataconnector-modal-close-button")+'" tabindex="0" role="button">';var c=P('<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><g fill="none" fill-rule="evenodd"><path d="M0,0 L18,0 L18,18 L0,18 L0,0 Z M0,0 L18,0 L18,18 L0,18 L0,0 Z"/><polygon fill="#000" points="14.53 4.53 13.47 3.47 9 7.94 4.53 3.47 3.47 4.53 7.94 9 3.47 13.47 4.53 14.53 9 10.06 13.47 14.53 14.53 13.47 10.06 9"/></g></svg>');
return a(b+c+'</div></div><div class="'+Q("waffle-dataconnector-modal-body")+'"></div><div class="'+Q("waffle-dataconnector-modal-footer")+'"></div>')};function F1(a,b){a=void 0===a?"":a;pq.call(this,!1,b);this.Kb=a;this.C=new cr(void 0,HHd.getInstance());this.Xa(this.C);this.yb=null;this.rb=!0}q(F1,pq);p=F1.prototype;p.Ma=function(){pq.prototype.Ma.call(this);Mh(this.getElement(),"waffle-dataconnector-modal");this.Kb&&Mh(this.getElement(),this.Kb);$q(this.getElement(),GHd);var a=this.Rq();Mh(a,"waffle-dataconnector-modal-bg");L(a,this.rb);this.C.xb(this.$a("waffle-dataconnector-modal-close-button"));this.yb&&IHd(this)};
p.Za=function(){pq.prototype.Za.call(this);JHd(this);this.getHandler().R(this.C,"action",this.C7);this.getHandler().R(this.ob(),["keydown","keypress"],this.iKb)};p.Nb=function(){return this.Fb("waffle-dataconnector-modal-body")};function KHd(a){return a.Fb("waffle-dataconnector-modal-footer")}function LHd(a,b){a.yb=b;a.Ob()&&IHd(a)}function JHd(a){var b=a.qa(),c=a.Rq(),d=a.Wo;a.rb?(d&&b.Ds(d,a.getElement()),b.Ds(c,a.getElement())):(b.xf(d),b.xf(c))}p.C7=function(){L7a.Zb()};p.I7=function(){L7a.Zb()};
p.iKb=function(a){"keydown"==a.type?27==a.keyCode?this.I7():9==a.keyCode&&a.shiftKey&&a.target==this.getElement()&&zDa(this):this.qHa(a)};function IHd(a){Qi.getInstance().setContent(a.$a("waffle-dataconnector-modal-title"),a.yb)}p.qHa=ba();function HHd(){}q(HHd,br);HHd.prototype.gp=n("waffle-dataconnector-modal-close-button");ta(HHd);function G1(a,b){F1.call(this,a,b);this.H=yf()}q(G1,F1);p=G1.prototype;p.getResult=function(){return this.H.C};p.resolve=function(a){this.H.resolve(a)};p.reject=function(a){this.H.reject(a)};p.Ya=function(){F1.prototype.Ya.call(this);this.H.reject()};p.I7=function(){this.reject()};p.C7=function(){this.reject()};function MHd(a){G1.call(this,"waffle-dataconnector-bigquery-consent-screen",a);LHd(this,"Autorizza");this.D=new nU("Autorizza");this.Xa(this.D);this.D.Gd("waffle-dataconnector-bigquery-consent-screen-authorize-button")}q(MHd,G1);MHd.prototype.Ma=function(){G1.prototype.Ma.call(this);$q(this.Nb(),EHd);$q(KHd(this),FHd);this.D.render(this.$a("waffle-dataconnector-bigquery-consent-screen-authorize-button-wrapper"))};
MHd.prototype.Za=function(){var a=this;G1.prototype.Za.call(this);this.getHandler().R(this.D,"action",function(){return a.resolve(!0)})};MHd.prototype.I7=function(){this.resolve(!1)};MHd.prototype.C7=function(){this.resolve(!1)};function H1(){T.call(this)}x(H1,T);var NHd=null;H1.prototype.Zw=function(){return ev(this,1)};function I1(){T.call(this)}x(I1,T);var OHd=null;I1.prototype.Zw=function(){return ev(this,1)};I1.prototype.Tm=function(){return U(this,2)};I1.prototype.aL=function(){return ev(this,2)};function J1(){T.call(this)}x(J1,T);var PHd=null;J1.prototype.getName=function(){return U(this,1)};J1.prototype.Fe=function(a){V(this,1,a)};function K1(){T.call(this)}x(K1,T);var QHd=null;p=K1.prototype;
p.Hb=function(){return U(this,1)};p.Df=function(){return jv(this,1)};p.gg=function(){return ev(this,1)};p.$p=function(){return U(this,2)};p.getColumnIndex=function(){return U(this,3)};p.Bt=function(){return jv(this,3)};function L1(){T.call(this)}x(L1,T);var RHd=null;H1.prototype.Ba=function(){var a=NHd;a||(NHd=a=kv(H1,{0:{name:"PlxQuery",zb:"ritzproto.PlxQuery"},1:{name:"query",va:9,type:String},2:{name:"engine",va:9,type:String},3:{name:"script_id",va:9,type:String}}));return a};H1.Ba=H1.prototype.Ba;
I1.prototype.Ba=function(){var a=OHd;a||(OHd=a=kv(I1,{0:{name:"BigQueryQuery",zb:"ritzproto.BigQueryQuery"},1:{name:"query",va:9,type:String},2:{name:"project_id",va:9,type:String}}));return a};I1.Ba=I1.prototype.Ba;J1.prototype.Ba=function(){var a=PHd;a||(PHd=a=kv(J1,{0:{name:"QueryParameter",zb:"ritzproto.QueryParameter"},1:{name:"name",va:9,type:String},2:{name:"constant_value",va:9,type:String},3:{name:"workbookrange_id",va:9,type:String},4:{name:"cell_coordinate",va:11,type:K1}}));return a};
J1.Ba=J1.prototype.Ba;K1.prototype.Ba=function(){var a=QHd;a||(QHd=a=kv(K1,{0:{name:"CellCoordinate",zb:"ritzproto.CellCoordinate"},1:{name:"sheet_id",va:9,type:String},2:{name:"row_index",va:5,type:Number},3:{name:"column_index",va:5,type:Number}}));return a};K1.Ba=K1.prototype.Ba;
L1.prototype.Ba=function(){var a=RHd;a||(RHd=a=kv(L1,{0:{name:"QueryProto",zb:"ritzproto.QueryProto"},1:{name:"sql_query",va:9,type:String},2:{name:"plx_query",va:11,type:H1},4:{name:"bigquery_query",va:11,type:I1},3:{name:"parameters",fc:!0,va:11,type:J1}}));return a};L1.Ba=L1.prototype.Ba;var SHd={eEc:0,Rsc:1,Awc:2,r7b:3,iBc:4};function M1(){T.call(this)}x(M1,T);var THd=null;M1.prototype.getName=function(){return U(this,1)};M1.prototype.Fe=function(a){V(this,1,a)};function N1(){T.call(this)}x(N1,T);var UHd=null;p=N1.prototype;p.getId=function(){return U(this,1)};p.xn=function(){return jv(this,1)};p.vf=function(a){V(this,1,a)};p.getType=function(){return U(this,2)};p.setType=function(a){V(this,2,a)};function O1(){T.call(this)}x(O1,T);var VHd=null;function P1(){T.call(this)}x(P1,T);
var WHd=null;P1.prototype.getErrorCode=function(){return U(this,3)};P1.prototype.Vq=function(){return ev(this,3)};function Q1(){T.call(this)}x(Q1,T);var XHd=null;Q1.prototype.Zw=function(){return ev(this,2)};function R1(){T.call(this)}x(R1,T);var YHd=null;R1.prototype.Hj=function(){return U(this,1)};R1.prototype.Hb=function(){return U(this,3)};R1.prototype.Df=function(){return jv(this,3)};R1.prototype.gg=function(){return ev(this,3)};function S1(){T.call(this)}x(S1,T);var ZHd=null;
S1.prototype.Zw=function(){return ev(this,2)};S1.prototype.getToken=function(){return U(this,4)};S1.prototype.setToken=function(a){V(this,4,a)};function T1(){T.call(this)}x(T1,T);var $Hd=null;T1.prototype.Hj=function(){return U(this,1)};function U1(){T.call(this)}x(U1,T);var aId=null;U1.prototype.DI=function(a){gv(this,2,a)};function bId(){T.call(this)}x(bId,T);var cId=null;function dId(){T.call(this)}x(dId,T);var eId=null;function V1(){T.call(this)}x(V1,T);var fId=null;
V1.prototype.Hb=function(){return U(this,1)};V1.prototype.Df=function(){return jv(this,1)};V1.prototype.gg=function(){return ev(this,1)};function W1(){T.call(this)}x(W1,T);var gId=null;W1.prototype.Hj=function(){return U(this,1)};function X1(){T.call(this)}x(X1,T);var hId=null;X1.prototype.Tm=function(){return U(this,2)};X1.prototype.aL=function(){return ev(this,2)};function Y1(){T.call(this)}x(Y1,T);var iId=null;Y1.prototype.getErrorCode=function(){return U(this,2)};
Y1.prototype.Vq=function(){return ev(this,2)};function Z1(){T.call(this)}x(Z1,T);var jId=null;Z1.prototype.getName=function(){return U(this,1)};Z1.prototype.Fe=function(a){V(this,1,a)};Z1.prototype.Tm=function(){return U(this,3)};function kId(a,b){V(a,3,b)}Z1.prototype.aL=function(){return ev(this,3)};function $1(){T.call(this)}x($1,T);var lId=null;$1.prototype.Zw=function(){return ev(this,2)};function a2(){T.call(this)}x(a2,T);var mId=null;a2.prototype.Hj=function(){return U(this,1)};
function nId(){T.call(this)}x(nId,T);var oId=null;function b2(){T.call(this)}x(b2,T);var pId=null;p=b2.prototype;p.getId=function(){return U(this,1)};p.xn=function(){return jv(this,1)};p.vf=function(a){V(this,1,a)};p.getName=function(){return U(this,2)};p.Fe=function(a){V(this,2,a)};function c2(){T.call(this)}x(c2,T);var qId=null;function d2(){T.call(this)}x(d2,T);var rId=null;d2.prototype.getErrorCode=function(){return U(this,2)};d2.prototype.Vq=function(){return ev(this,2)};
function e2(){T.call(this)}x(e2,T);var sId=null;e2.prototype.Tm=function(){return U(this,2)};e2.prototype.aL=function(){return ev(this,2)};function f2(){T.call(this)}x(f2,T);var tId=null;f2.prototype.getErrorCode=function(){return U(this,2)};f2.prototype.Vq=function(){return ev(this,2)};function uId(){T.call(this)}x(uId,T);var vId=null;function g2(){T.call(this)}x(g2,T);var wId=null;g2.prototype.getErrorCode=function(){return U(this,2)};g2.prototype.Vq=function(){return ev(this,2)};
function h2(){T.call(this)}x(h2,T);var xId=null;p=h2.prototype;p.getId=function(){return U(this,1)};p.xn=function(){return jv(this,1)};p.vf=function(a){V(this,1,a)};p.getName=function(){return U(this,2)};p.Fe=function(a){V(this,2,a)};function yId(){T.call(this)}x(yId,T);var zId=null;function i2(){T.call(this)}x(i2,T);var AId=null;i2.prototype.Zw=function(){return ev(this,2)};function j2(){T.call(this)}x(j2,T);var BId=null;function k2(){T.call(this)}x(k2,T);var CId=null;
k2.prototype.Hj=function(){return U(this,1)};M1.prototype.Ba=function(){var a=THd;a||(THd=a=kv(M1,{0:{name:"CreateConnectionRequest",zb:"ritzproto.CreateConnectionRequest"},1:{name:"name",va:9,type:String},2:{name:"connection_type",va:14,defaultValue:0,type:bWa},3:{name:"jdbc_connection_info",va:11,type:O1}}));return a};M1.Ba=M1.prototype.Ba;
N1.prototype.Ba=function(){var a=UHd;a||(UHd=a=kv(N1,{0:{name:"ImportConnectionRequest",zb:"ritzproto.ImportConnectionRequest"},1:{name:"id",va:9,type:String},2:{name:"type",va:14,defaultValue:0,type:bWa}}));return a};N1.Ba=N1.prototype.Ba;
O1.prototype.Ba=function(){var a=VHd;a||(VHd=a=kv(O1,{0:{name:"JdbcConnectionInfo",zb:"ritzproto.JdbcConnectionInfo"},1:{name:"database_type",va:14,defaultValue:0,type:SHd},2:{name:"hostname",va:9,type:String},3:{name:"db_name",va:9,type:String},4:{name:"username",va:9,type:String},5:{name:"password",va:9,type:String},6:{name:"use_ssl",va:8,type:Boolean},7:{name:"client_key",va:9,type:String},8:{name:"client_cert",va:9,type:String},9:{name:"server_ca",va:9,type:String},10:{name:"jdbc_url",va:9,type:String}}));
return a};O1.Ba=O1.prototype.Ba;P1.prototype.Ba=function(){var a=WHd;a||(WHd=a=kv(P1,{0:{name:"CreateConnectionResponse",zb:"ritzproto.CreateConnectionResponse"},1:{name:"success",va:8,type:Boolean},2:{name:"connection_id",va:9,type:String},3:{name:"error_code",va:14,defaultValue:0,type:cWa},4:{name:"error_text",va:9,type:String}}));return a};P1.Ba=P1.prototype.Ba;
Q1.prototype.Ba=function(){var a=XHd;a||(XHd=a=kv(Q1,{0:{name:"CreateQueryRequest",zb:"ritzproto.CreateQueryRequest"},1:{name:"connection_id",va:9,type:String},2:{name:"query",va:11,type:L1}}));return a};Q1.Ba=Q1.prototype.Ba;R1.prototype.Ba=function(){var a=YHd;a||(YHd=a=kv(R1,{0:{name:"CreateQueryResponse",zb:"ritzproto.CreateQueryResponse"},1:{name:"execution_status",va:11,type:rv},2:{name:"query_id",va:9,type:String},3:{name:"sheet_id",va:9,type:String}}));return a};R1.Ba=R1.prototype.Ba;
S1.prototype.Ba=function(){var a=ZHd;a||(ZHd=a=kv(S1,{0:{name:"PreviewQueryRequest",zb:"ritzproto.PreviewQueryRequest"},1:{name:"connection_id",va:9,type:String},2:{name:"query",va:11,type:L1},3:{name:"max_rows",va:5,type:Number},4:{name:"token",va:9,type:String},5:{name:"dry_run",va:8,type:Boolean}}));return a};S1.Ba=S1.prototype.Ba;
T1.prototype.Ba=function(){var a=$Hd;a||($Hd=a=kv(T1,{0:{name:"PreviewQueryResponse",zb:"ritzproto.PreviewQueryResponse"},1:{name:"execution_status",va:11,type:rv},2:{name:"query_result",va:11,type:U1},3:{name:"total_rows",va:5,type:Number},4:{name:"has_more",va:8,type:Boolean},5:{name:"metadata",va:11,type:dId}}));return a};T1.Ba=T1.prototype.Ba;
U1.prototype.Ba=function(){var a=aId;a||(aId=a=kv(U1,{0:{name:"QueryResult",zb:"ritzproto.QueryResult"},1:{name:"column_names",fc:!0,va:9,type:String},2:{name:"rows",fc:!0,va:11,type:bId}}));return a};U1.Ba=U1.prototype.Ba;bId.prototype.Ba=function(){var a=cId;a||(cId=a=kv(bId,{0:{name:"QueryResultRow",zb:"ritzproto.QueryResultRow"},1:{name:"formatted_values",fc:!0,va:11,type:yv}}));return a};bId.Ba=bId.prototype.Ba;
dId.prototype.Ba=function(){var a=eId;a||(eId=a=kv(dId,{0:{name:"QueryExecutionMetadata",zb:"ritzproto.QueryExecutionMetadata"},1:{name:"bytes_processed",va:9,type:String}}));return a};dId.Ba=dId.prototype.Ba;V1.prototype.Ba=function(){var a=fId;a||(fId=a=kv(V1,{0:{name:"RefreshSheetRequest",zb:"ritzproto.RefreshSheetRequest"},1:{name:"sheet_id",va:9,type:String}}));return a};V1.Ba=V1.prototype.Ba;
W1.prototype.Ba=function(){var a=gId;a||(gId=a=kv(W1,{0:{name:"RefreshSheetResponse",zb:"ritzproto.RefreshSheetResponse"},1:{name:"execution_status",va:11,type:rv}}));return a};W1.Ba=W1.prototype.Ba;X1.prototype.Ba=function(){var a=hId;a||(hId=a=kv(X1,{0:{name:"GetTablesRequest",zb:"ritzproto.GetTablesRequest"},1:{name:"connection_id",va:9,type:String},2:{name:"project_id",va:9,type:String},3:{name:"schema_name",va:9,type:String}}));return a};X1.Ba=X1.prototype.Ba;
Y1.prototype.Ba=function(){var a=iId;a||(iId=a=kv(Y1,{0:{name:"GetTablesResponse",zb:"ritzproto.GetTablesResponse"},1:{name:"success",va:8,type:Boolean},2:{name:"error_code",va:14,defaultValue:0,type:cWa},3:{name:"error_text",va:9,type:String},4:{name:"tables",fc:!0,va:11,type:Z1}}));return a};Y1.Ba=Y1.prototype.Ba;
Z1.prototype.Ba=function(){var a=jId;a||(jId=a=kv(Z1,{0:{name:"Table",zb:"ritzproto.Table"},1:{name:"name",va:9,type:String},2:{name:"schema",va:9,type:String},3:{name:"project_id",va:9,type:String}}));return a};Z1.Ba=Z1.prototype.Ba;$1.prototype.Ba=function(){var a=lId;a||(lId=a=kv($1,{0:{name:"EditQueryRequest",zb:"ritzproto.EditQueryRequest"},1:{name:"query_id",va:9,type:String},2:{name:"query",va:11,type:L1}}));return a};$1.Ba=$1.prototype.Ba;
a2.prototype.Ba=function(){var a=mId;a||(mId=a=kv(a2,{0:{name:"EditQueryResponse",zb:"ritzproto.EditQueryResponse"},1:{name:"execution_status",va:11,type:rv}}));return a};a2.Ba=a2.prototype.Ba;nId.prototype.Ba=function(){var a=oId;a||(oId=a=kv(nId,{0:{name:"ListConnectionsResponse",zb:"ritzproto.ListConnectionsResponse"},1:{name:"connections",fc:!0,va:11,type:b2}}));return a};nId.Ba=nId.prototype.Ba;
b2.prototype.Ba=function(){var a=pId;a||(pId=a=kv(b2,{0:{name:"Connection",zb:"ritzproto.Connection"},1:{name:"id",va:9,type:String},2:{name:"name",va:9,type:String},3:{name:"connection_type",va:14,defaultValue:0,type:bWa},4:{name:"jdbc_connection_info",va:11,type:O1}}));return a};b2.Ba=b2.prototype.Ba;c2.prototype.Ba=function(){var a=qId;a||(qId=a=kv(c2,{0:{name:"GetColumnsRequest",zb:"ritzproto.GetColumnsRequest"},1:{name:"connection_id",va:9,type:String},2:{name:"table",va:11,type:Z1}}));return a};
c2.Ba=c2.prototype.Ba;d2.prototype.Ba=function(){var a=rId;a||(rId=a=kv(d2,{0:{name:"GetColumnsResponse",zb:"ritzproto.GetColumnsResponse"},1:{name:"success",va:8,type:Boolean},2:{name:"error_code",va:14,defaultValue:0,type:cWa},3:{name:"error_text",va:9,type:String},4:{name:"column_names",fc:!0,va:9,type:String}}));return a};d2.Ba=d2.prototype.Ba;
e2.prototype.Ba=function(){var a=sId;a||(sId=a=kv(e2,{0:{name:"GetDatasetsRequest",zb:"ritzproto.GetDatasetsRequest"},1:{name:"connection_id",va:9,type:String},2:{name:"project_id",va:9,type:String}}));return a};e2.Ba=e2.prototype.Ba;
f2.prototype.Ba=function(){var a=tId;a||(tId=a=kv(f2,{0:{name:"GetDatasetsResponse",zb:"ritzproto.GetDatasetsResponse"},1:{name:"success",va:8,type:Boolean},2:{name:"error_code",va:14,defaultValue:0,type:cWa},3:{name:"error_text",va:9,type:String},4:{name:"dataset_names",fc:!0,va:9,type:String}}));return a};f2.Ba=f2.prototype.Ba;
uId.prototype.Ba=function(){var a=vId;a||(vId=a=kv(uId,{0:{name:"GetBigQueryProjectsRequest",zb:"ritzproto.GetBigQueryProjectsRequest"},1:{name:"connection_id",va:9,type:String}}));return a};uId.Ba=uId.prototype.Ba;
g2.prototype.Ba=function(){var a=wId;a||(wId=a=kv(g2,{0:{name:"GetBigQueryProjectsResponse",zb:"ritzproto.GetBigQueryProjectsResponse"},1:{name:"success",va:8,type:Boolean},2:{name:"error_code",va:14,defaultValue:0,type:cWa},3:{name:"error_text",va:9,type:String},4:{name:"projects",fc:!0,va:11,type:h2}}));return a};g2.Ba=g2.prototype.Ba;
h2.prototype.Ba=function(){var a=xId;a||(xId=a=kv(h2,{0:{name:"BigQueryProject",zb:"ritzproto.BigQueryProject"},1:{name:"id",va:9,type:String},2:{name:"name",va:9,type:String}}));return a};h2.Ba=h2.prototype.Ba;yId.prototype.Ba=function(){var a=zId;a||(zId=a=kv(yId,{0:{name:"GetQueryRequest",zb:"ritzproto.GetQueryRequest"},1:{name:"query_id",va:9,type:String}}));return a};yId.Ba=yId.prototype.Ba;
i2.prototype.Ba=function(){var a=AId;a||(AId=a=kv(i2,{0:{name:"GetQueryResponse",zb:"ritzproto.GetQueryResponse"},1:{name:"found",va:8,type:Boolean},2:{name:"query",va:11,type:L1}}));return a};i2.Ba=i2.prototype.Ba;j2.prototype.Ba=function(){var a=BId;a||(BId=a=kv(j2,{0:{name:"GetExecutionStatusRequest",zb:"ritzproto.GetExecutionStatusRequest"},1:{name:"query_id",va:9,type:String}}));return a};j2.Ba=j2.prototype.Ba;
k2.prototype.Ba=function(){var a=CId;a||(CId=a=kv(k2,{0:{name:"GetExecutionStatusResponse",zb:"ritzproto.GetExecutionStatusResponse"},1:{name:"execution_status",va:11,type:rv}}));return a};k2.Ba=k2.prototype.Ba;function DId(a,b){b=void 0===b?"":b;this.C=[];for(var c=0;c<a.length;c++)this.C.push(a[c].clone());this.D=b};function EId(){return P('<div class="'+Q("waffle-dataconnector-bigqueryquerysettingsdialog-project-section")+'"><div class="'+Q("waffle-dataconnector-bigqueryquerysettingsdialog-project-select-wrapper")+'"></div></div>')}
function FId(){var a='<div class="'+Q("waffle-dataconnector-bigqueryquerysettingsdialog-continue-button-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-footer-sharing-message")+'">';return P(a+"I dati su cui effettui la query sono visibili a chiunque abbia accesso in visualizzazione, ma la query \u00e8 visibile solo a chi ha accesso in modifica.</div>")};function GId(){return P('<svg class="waffle-dataconnector-close-icon" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><g fill="none" fill-rule="evenodd"><path d="M0,0 L18,0 L18,18 L0,18 L0,0 Z M0,0 L18,0 L18,18 L0,18 L0,0 Z"/><polygon fill="#000" points="14.53 4.53 13.47 3.47 9 7.94 4.53 3.47 3.47 4.53 7.94 9 3.47 13.47 4.53 14.53 9 10.06 13.47 14.53 14.53 13.47 10.06 9"/></g></svg>')}
function HId(){return P('<svg class="waffle-dataconnector-refresh-icon" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M17.65,7.35 C16.2,5.9 14.21,5 12,5 C7.58,5 4.01,8.58 4.01,13 C4.01,17.42 7.58,21 12,21 C15.73,21 18.84,18.45 19.73,15 L17.65,15 C16.83,17.33 14.61,19 12,19 C8.69,19 6,16.31 6,13 C6,9.69 8.69,7 12,7 C13.66,7 15.14,7.69 16.22,8.78 L13,12 L20,12 L20,5 L17.65,7.35 Z" id="dataconnector-refresh-icon-path-1"></path></defs><g id="icons/refresh" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Group" transform="translate(0.000000, -1.000000)"><rect id="Rectangle" x="0" y="1" width="24" height="24"></rect><mask id="dataconnector-refresh-icon-mask-2" fill="white"><use xlink:href="#dataconnector-refresh-icon-path-1"></use></mask><use id="Shape" fill="#4285F4" fill-rule="nonzero" xlink:href="#dataconnector-refresh-icon-path-1"></use><g id="colors/Black---100" mask="url(#dataconnector-refresh-icon-mask-2)" fill="#000000"><polygon id="Shape" points="0 0 24 0 24 24 0 24"></polygon></g></g></g></svg>')}
function IId(a){a=a||{};a=a.color;a='<svg class="waffle-dataconnector-error-icon" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path fill="'+Q(null==a?"#D0021B":a)+'" fill-rule="evenodd" d="M9,13 L11,13 L11,15 L9,15 L9,13 Z M9,5 L11,5 L11,11 L9,11 L9,5 Z M9.99,0 C4.47,0 0,4.48 0,10 C0,15.52 4.47,20 9.99,20 C15.52,20 20,15.52 20,10 C20,4.48 15.52,0 9.99,0 Z M10,18 C5.58,18 2,14.42 2,10 C2,5.58 5.58,2 10,2 C14.42,2 18,5.58 18,10 C18,14.42 14.42,18 10,18 Z"></path></g></svg>';
return P(a)}
function JId(a){a=a||{};a=a.color;a='<svg class="waffle-dataconnector-error-icon-filled" width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path fill-rule="evenodd" fill="'+Q(null==a?"#D0021B":a)+'" d="M9,13 L11,13 L11,15 L9,15 L9,13 Z M9,5 L11,5 L11,11 L9,11 L9,5 Z M9.99,0 C4.47,0 0,4.48 0,10 C0,15.52 4.47,20 9.99,20 C15.52,20 20,15.52 20,10 C20,4.48 15.52,0 9.99,0 Z"></path></g></svg>';return P(a)}
function KId(){return P('<svg class="waffle-dataconnector-bigquery-icon" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path fill="#000000" fill-rule="evenodd" d="M17.6210231,14.9676464 C17.7267041,14.964158 17.8336481,14.999598 17.9136667,15.0739664 L21.2187334,18.1431672 C21.3715333,18.2853017 21.3715333,18.5181274 21.2187334,18.6604475 L19.8908,19.8929813 C19.7375334,20.0356729 19.4867333,20.0356729 19.3334666,19.8929813 L16.0288667,16.8252043 C15.9483809,16.7504669 15.9100327,16.6511429 15.9138223,16.5530387 C14.5318646,17.5088871 12.8185327,18.0746254 10.962963,18.0746254 C6.38121025,18.0746254 2.66666667,14.6253786 2.66666667,10.3707987 C2.66666667,6.11585235 6.38121025,2.66666667 10.962963,2.66666667 C15.5447814,2.66666667 19.259325,6.11585235 19.2592593,10.3708597 C19.2592593,12.0936892 18.6501585,13.6844725 17.6210231,14.9676464 Z M10.9627632,16.1481946 C14.3991593,16.1481946 17.1851852,13.5615621 17.1851852,10.3706486 C17.1851852,7.17973497 14.3992258,4.59254616 10.9627632,4.59254616 C7.52630064,4.59254616 4.74074074,7.17967314 4.74074074,10.3706486 C4.74074074,13.561624 7.52630064,16.1481946 10.9627632,16.1481946 Z M6.81481481,10.3703704 L8.88888889,10.3703704 L8.88888889,14.0029401 C8.03391111,13.6464441 7.31942754,13.1505168 6.81481481,12.5594013 L6.81481481,10.3703704 Z M9.92592593,8.44442896 L12,8.44442896 L12,14.1665272 C11.6766072,14.200082 11.3475683,14.2222532 11.0093815,14.2222532 C10.6390341,14.2222532 10.2784063,14.1975885 9.92592593,14.1574203 L9.92592593,8.44442896 Z M13.044326,11.3333411 L15.1184,11.3333411 L15.1184,12.4901418 C14.6287957,13.0790718 13.9116201,13.5742789 13.044326,13.933362 L13.044326,11.3333411 Z"></path></g></svg>')}
function LId(){return P('<svg class="waffle-dataconnector-plx-icon" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>Plx</title><defs><path d="M10.9418364,5.81385031 L14.4202032,5.81385031 L15.1116898,1.66493056 L18.8939326,1.66493056 L18.202446,5.81385031 L21.3350694,5.81385031 L21.3350694,8.92554012 L17.683831,8.92554012 L16.9923444,13.0744599 L21.3350694,13.0744599 L21.3350694,16.1861497 L16.4737294,16.1861497 L15.7822428,20.3350694 L12,20.3350694 L12.6914866,16.1861497 L9.21311982,16.1861497 L8.5216332,20.3350694 L4.73939043,20.3350694 L5.43087706,16.1861497 L2.66493056,16.1861497 L2.66493056,13.0744599 L5.94949203,13.0744599 L6.64097865,8.92554012 L2.66493056,8.92554012 L2.66493056,5.81385031 L7.15959362,5.81385031 L7.85108025,1.66493056 L11.633323,1.66493056 L10.9418364,5.81385031 Z M10.4232214,8.92554012 L9.73173479,13.0744599 L13.2101016,13.0744599 L13.9015882,8.92554012 L10.4232214,8.92554012 Z" id="dataconnector-plx-icon-path-1"></path></defs><g id="icons/db/PLX" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Group" transform="translate(0.000000, 1.000000)"><rect id="Rectangle" x="0" y="0" width="24" height="24"></rect><mask id="dataconnector-plx-icon-mask-2" fill="white"><use xlink:href="#dataconnector-plx-icon-path-1"></use></mask><g id="Combined-Shape"></g><g id="colors/Black---100" mask="url(#dataconnector-plx-icon-mask-2)" fill="#000000"><polygon id="Shape" points="0 0 24 0 24 24 0 24"></polygon></g></g></g></svg>')}
function MId(a){a=a||{};a=a.opacity;a='<svg class="waffle-dataconnector-menu-icon" fill="#000000" fill-opacity="'+Q(null==a?1:a)+'" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/></svg>';return P(a)}
function NId(){return P('<svg class="waffle-dataconnector-info-icon" width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><path transform="rotate(180 10 10)" fill="#4285F4" fill-rule="evenodd" d="M9,13 L11,13 L11,15 L9,15 L9,13 Z M9,5 L11,5 L11,11 L9,11 L9,5 Z M9.99,0 C4.47,0 0,4.48 0,10 C0,15.52 4.47,20 9.99,20 C15.52,20 20,15.52 20,10 C20,4.48 15.52,0 9.99,0 Z M10,18 C5.58,18 2,14.42 2,10 C2,5.58 5.58,2 10,2 C14.42,2 18,5.58 18,10 C18,14.42 14.42,18 10,18 Z"></path></g></svg>')};function OId(a,b){G1.call(this,"waffle-dataconnector-bigqueryquerysettingsdialog",b);LHd(this,this.qa().Ma("SPAN",void 0,N(KId),"Impostazioni query BigQuery"));this.J=a.C;this.D=new ZT;this.Xa(this.D);this.D.Gd("waffle-dataconnector-bigqueryquerysettingsdialog-project-select");this.D.setContent("Progetto di fatturazione");this.F=new nU("Scrivi query");this.Xa(this.F);this.F.Gd("waffle-dataconnector-bigqueryquerysettingsdialog-continue-button")}q(OId,G1);
OId.prototype.Ma=function(){G1.prototype.Ma.call(this);$q(this.Nb(),EId);$q(KHd(this),FId);this.D.render(this.$a("waffle-dataconnector-bigqueryquerysettingsdialog-project-select-wrapper"));this.F.render(this.$a("waffle-dataconnector-bigqueryquerysettingsdialog-continue-button-wrapper"))};
OId.prototype.Za=function(){G1.prototype.Za.call(this);if(0==this.J.length){this.D.jb(!1);var a=this.D;a.F="Nessun progetto di fatturazione";a.vD();a=this.qa();a.appendChild(this.$a("waffle-dataconnector-bigqueryquerysettingsdialog-project-section"),a.Ma("DIV","waffle-dataconnector-bigqueryquerysettingsdialog-error-caption","Configura un progetto nella console di Google Cloud Platform per continuare"))}else{a=this.J;for(var b=0;b<a.length;b++){var c=a[b];this.D.zd(new Mk(c.getName(),c.getId()))}this.getHandler().R(this.F,
"action",this.O).R(this.D,"change",this.L)}this.L()};OId.prototype.L=function(){this.F.jb(null!=this.D.Te())};OId.prototype.O=function(){this.resolve(PId(this))};function PId(a){var b=a.D.Te().getValue();return new DId(a.J,b)};function QId(){this.C=null;this.Yc=new mv}QId.prototype.Gf=ca("C");function RId(a,b){a.Yc.Ih=!0;var c=em(a.Yc.serialize(b));return new tf(function(b,e){du(rs(Nu(an(Ru(ss(a.C.ef("/dbx/createConnection"),"POST")),1).setTimeout(3E4),["data",c]),function(c){a.Yc.Ih=!1;c=a.Yc.yd(P1.Ba(),c.$e());c.Vq()?e(c):b(c)}),function(){var a=new P1;V(a,1,!1);V(a,3,1);e(a)}).Ge()})}
function SId(a,b){a.Yc.Ih=!0;var c=a.Yc.serialize(b);return new tf(function(b,e){l2(a,"/dbx/createQuery",c,function(c){a.Yc.Ih=!1;c=a.Yc.yd(R1.Ba(),c.$e());3==c.Hj().getState()?e(c):b(c)},function(){var a=new R1,b=new rv;V(a,1,b);b.Pb(3);V(b,2,1);e(a)})})}function TId(a,b){a.Yc.Ih=!0;var c=em(a.Yc.serialize(b));return new tf(function(b,e){du(rs(Nu(an(Ru(ss(a.C.ef("/dbx/importConnection"),"POST")),1).setTimeout(3E4),["data",c]),function(){b()}),function(){e()}).Ge()})}
function UId(a,b){a.Yc.Ih=!0;var c=a.Yc.serialize(b);return new tf(function(b,e){l2(a,"/dbx/previewQuery",c,function(c){a.Yc.Ih=!1;c=a.Yc.yd(T1.Ba(),c.$e());3==c.Hj().getState()?e(c):b(c)},function(){var a=new T1,b=new rv;V(a,1,b);b.Pb(3);V(b,2,1);e(a)})})}
function VId(a,b){a.Yc.Ih=!0;var c=a.Yc.serialize(b);return new tf(function(b,e){l2(a,"/dbx/refreshSheet",c,function(c){a.Yc.Ih=!1;c=a.Yc.yd(W1.Ba(),c.$e());3==c.Hj().getState()?e(c):b(c)},function(){var a=new W1,b=new rv;V(a,1,b);b.Pb(3);V(b,2,1);e(a)})})}
function WId(a,b){a.Yc.Ih=!0;var c=a.Yc.serialize(b);return new tf(function(b,e){l2(a,"/dbx/editQuery",c,function(c){a.Yc.Ih=!1;c=a.Yc.yd(a2.Ba(),c.$e());3==c.Hj().getState()?e(c):b(c)},function(){var a=new a2,b=new rv;V(a,1,b);b.Pb(3);V(b,2,1);e(a)})})}function XId(a){return new tf(function(b,c){du(rs(bn(an(Ru(ss(a.C.ef("/dbx/listConnections"),"GET")),1).setTimeout(3E4),"currentWorkbookOnly","true"),function(c){a.Yc.Ih=!1;c=a.Yc.yd(nId.Ba(),c.$e());b(c)}),c).Ge()})}
function YId(a,b){a.Yc.Ih=!0;var c=a.Yc.serialize(b);return new tf(function(b,e){l2(a,"/dbx/getTables",c,function(c){a.Yc.Ih=!1;c=a.Yc.yd(Y1.Ba(),c.$e());c.Vq()?e(c):b(c)},function(){var a=new Y1;V(a,1,!1);V(a,2,1);e(a)})})}function ZId(a,b){a.Yc.Ih=!0;var c=a.Yc.serialize(b);return new tf(function(b,e){l2(a,"/dbx/getColumns",c,function(c){a.Yc.Ih=!1;c=a.Yc.yd(d2.Ba(),c.$e());c.Vq()?e(c):b(c)},function(){var a=new d2;V(a,1,!1);V(a,2,1);e(a)})})}
function $Id(a,b){a.Yc.Ih=!0;var c=em(a.Yc.serialize(b));return new tf(function(b,e){du(rs(Nu(an(Ru(ss(a.C.ef("/dbx/getQuery"),"POST")),1).setTimeout(3E4),["data",c]),function(c){a.Yc.Ih=!1;c=a.Yc.yd(i2.Ba(),c.$e());b(c)}),e).Ge()})}function aJd(a,b){a.Yc.Ih=!0;var c=a.Yc.serialize(b);return new tf(function(b,e){l2(a,"/dbx/getBigQueryProjects",c,function(c){a.Yc.Ih=!1;c=a.Yc.yd(g2.Ba(),c.$e());c.Vq()&&e(c);b(c)},function(){var a=new T1,b=new rv;V(a,1,b);b.Pb(3);V(b,2,1);e(a)})})}
function bJd(a,b){a.Yc.Ih=!0;var c=a.Yc.serialize(b);return new tf(function(b,e){l2(a,"/dbx/getDatasets",c,function(c){a.Yc.Ih=!1;c=a.Yc.yd(f2.Ba(),c.$e());b(c)},function(){var a=new f2;V(a,1,!1);V(a,2,1);e(a)})})}function l2(a,b,c,d,e){du(rs(Nu(an(Ru(ss(a.C.ef(b),"POST")),1).setTimeout(3E4),["data",em(c)]),d),e).Ge()}
QId.prototype.Hj=function(a){var b=this;this.Yc.Ih=!0;var c=this.Yc.serialize(a);return new tf(function(a,e){l2(b,"/dbx/getExecutionStatus",c,function(c){b.Yc.Ih=!1;c=b.Yc.yd(k2.Ba(),c.$e());a(c)},function(){e()})})};ta(QId);function cJd(a,b){this.D=a;this.C=b}function dJd(a,b,c){var d=new X1;V(d,1,a.C);V(d,2,b);V(d,3,c);return YId(a.D,d).then(function(a){return iv(a,4)})}function eJd(a,b){var c=new c2;V(c,1,a.C);V(c,2,b);return ZId(a.D,c).then(function(a){return iv(a,4)})}function fJd(a,b){var c=new e2;V(c,2,b);V(c,1,a.C);return bJd(a.D,c).then(function(a){return iv(a,4)})}function gJd(a){var b=new uId;V(b,1,a.C);return aJd(a.D,b).then(function(a){return iv(a,4)})};function n2(a,b){qq.call(this,"waffle-dataconnector-prompt",a,b);this.L=yf();Gq(this,null);Bq(this,!0);this.C=new RR("Continua");this.Xa(this.C);this.J=new QR("Annulla");this.Xa(this.J);this.O=[]}q(n2,qq);p=n2.prototype;p.Gd=function(a){this.O.push(a);var b=this.getElement();b&&Mh(b,a)};p.getResult=function(){return this.L.C};p.resolve=function(a){this.L.resolve(a)};p.reject=function(){this.L.reject()};
p.Ma=function(){qq.prototype.Ma.call(this);var a=vq(this);this.J.render(a);this.C.render(a);L(a,!0)};p.Za=function(){var a=this;qq.prototype.Za.call(this);Nh(this.ob(),this.O);this.getHandler().R(this.J,"action",function(){return a.reject()})};p.setVisible=function(a){qq.prototype.setVisible.call(this,a);a||this.reject()};p.Ya=function(){qq.prototype.Ya.call(this);this.reject()};function hJd(a,b){n2.call(this,a,b)}q(hJd,n2);hJd.prototype.Za=function(){var a=this;n2.prototype.Za.call(this);this.getHandler().R(this.C,"action",function(){return a.resolve(0)})};function iJd(a){var b='<div class="'+Q("waffle-dataconnector-connectionconfirmationscreen-content")+'"><div class="'+Q("waffle-dataconnector-connectionconfirmationscreen-access-security")+'" tabindex="0"><h3>';b+="Accesso e sicurezza.";var c="";c=a.zKa?c+"<p>Plx \u00e8 una connessione solo interna visibile unicamente ai Googlers.</p><p>Le persone esterne a google.com vedranno Plx come connessione senza nome.":c+"<p>Password e ID utente del database non vengono condivisi tra i collaboratori.";c=P(c+
"</p>");b+="</h3>"+c+'</div><div class="'+Q("waffle-dataconnector-connectionconfirmationscreen-data-visibility")+'" tabindex="0"><h3>';b+="Chi pu\u00f2 visualizzare dati e query";c="<p>Gli utenti che possono visualizzare il foglio di lavoro saranno in grado di vedere i dati.</p>";c=a.zKa?c+"<p>Gli utenti Google che possono modificare il foglio di lavoro saranno in grado di visualizzare e modificare la query.</p><p>Gli utenti all'esterno di google.com che possono visualizzare il foglio di lavoro saranno in grado di vedere i dati, ma non potranno visualizzare o aggiornare la query.":
c+"<p>Gli utenti che possono modificare questo foglio di lavoro possono visualizzare e modificare la query solo dopo aver effettuato l'accesso al database.";a=P(c+"</p>");return P(b+("</h3>"+a+"</div></div>"))};function jJd(){return P('<div class="'+Q("waffle-dataconnector-dialog-progress-message")+'"><div class="'+Q("waffle-dataconnector-dialog-progress-label")+'"></div><div class="'+Q("waffle-dataconnector-dialog-progress-bar")+'"></div></div>')};function kJd(a){MP.call(this,a);this.D=!1}q(kJd,MP);kJd.prototype.Ma=function(){MP.prototype.Ma.call(this);Mh(this.getElement(),"waffle-progress-bar");Qh(this.getElement(),"waffle-indeterminate-progress-bar",this.D)};function lJd(a,b){a.D!=b&&(a.D=b,a.getElement()&&Qh(a.getElement(),"waffle-indeterminate-progress-bar",b))}kJd.prototype.mb=function(a){lJd(this,!1);MP.prototype.mb.call(this,a)};
function mJd(a,b){lJd(a,!1);var c={width:a.getValue()+"%"},d={width:b+"%"};c=new Oq(a.$a("progress-bar-thumb"),1,c,d,{vg:"width",duration:1,timing:"ease-in",Pl:0});c.Sc("end",function(){MP.prototype.mb.call(a,b)});c.play()};function o2(a,b){qq.call(this,"waffle-dataconnector-dialog",a,b);Gq(this,null);this.ez(!1);Bq(this,!0);this.qb=[];this.yb=new RR("OK");this.Xa(this.yb);this.rb=new QR("Annulla");this.Xa(this.rb);this.tb=new sj;this.Kb=Rj(new Qj,1).build();this.Mb=this.qa().Ma("DIV","waffle-dataconnector-dialog-error-message");this.Sb=this.qa().Ma("DIV","waffle-dataconnector-dialog-info-message");this.Wb=N(jJd);this.L=new kJd;lJd(this.L,!0);this.Xa(this.L)}q(o2,qq);function nJd(a,b,c){yj(a.tb,a.yb,b,Gj,c,a.Kb)}
function oJd(a){yj(a.tb,a.rb,L7a,Gj,void 0,a.Kb)}function pJd(a){var b=["waffle-dataconnector-queryeditor"];a.Ob()&&(Ph(a.ob(),a.qb),Nh(a.ob(),b));a.qb=b}
o2.prototype.Ma=function(){qq.prototype.Ma.call(this);Nh(this.ob(),this.qb);var a=vq(this),b=this.qa().Ma("DIV","waffle-dataconnector-dialog-button-wrapper");a.appendChild(b);this.rb.render(b);this.yb.render(b);L(a,!0);b=this.qa().Ma("DIV","waffle-dataconnector-dialog-message-container",this.Mb,this.Sb,this.Wb);a.appendChild(b);this.L.render(this.$a("waffle-dataconnector-dialog-progress-bar"));$q(DDa(this),MAc)};
o2.prototype.Za=function(){qq.prototype.Za.call(this);p2(this);Fh(this.Mb,"live","polite");Fh(this.Sb,"live","polite");Fh(this.Wb,"live","polite")};o2.prototype.ez=function(a){qq.prototype.ez.call(this,a);xq(this,this.GJ?0:.6)};function qJd(a,b){a=a.$a("waffle-dataconnector-dialog-error-message");wd(a,b||od(""));L(a,!!b)}function rJd(a,b){a=a.$a("waffle-dataconnector-dialog-info-message");wd(a,b||od(""));L(a,!!b)}
function sJd(a,b,c){xe(a.$a("waffle-dataconnector-dialog-progress-label"),b);null!=c&&mJd(a.L,c);L(a.$a("waffle-dataconnector-dialog-progress-message"),!0)}function p2(a){qJd(a,null);rJd(a,null);a.L.mb(0);lJd(a.L,!0);L(a.$a("waffle-dataconnector-dialog-progress-message"),!1)};function tJd(a,b,c,d){o2.call(this,c,d);rq(this,"Connesso");this.F=a;this.C=b;oJd(this);nJd(this,S7a)}q(tJd,o2);tJd.prototype.Ma=function(){o2.prototype.Ma.call(this);$q(this.Nb(),iJd,{zKa:2==this.C})};function uJd(a){return P('<div class="'+Q("waffle-dataconnector-connectioncard")+'" role="button" tab-index="0"><div class="'+Q("waffle-dataconnector-connectioncard-icon")+'"></div><div class="'+Q("waffle-dataconnector-connectioncard-body")+'"><div class="'+Q("waffle-dataconnector-connectioncard-header")+'">'+O(a.PO)+"</div></div></div>")};function vJd(a,b,c,d){this.Hc=a;this.D=b;this.Dc=c;this.C=d}vJd.prototype.getName=g("D");vJd.prototype.getId=g("Hc");vJd.prototype.getType=g("Dc");function wJd(){this.Dc=this.Hc=this.D=null;this.C=!1}wJd.prototype.Fe=function(a){this.D=a;return this};wJd.prototype.vf=function(a){this.Hc=a;return this};wJd.prototype.setType=function(a){this.Dc=a;return this};function xJd(a){a.C=!0;return a}wJd.prototype.build=function(){return new vJd(this.Hc,this.D,this.Dc,this.C)};function yJd(){}q(yJd,br);yJd.prototype.Ma=function(a){a=a.sb();var b=N(uJd,{PO:a.getName()});Qh(b,"waffle-dataconnector-connectioncard-authenticated",a.C);return b};yJd.prototype.hc=n("waffle-dataconnector-connectioncard");ta(yJd);function zJd(a,b){cr.call(this,void 0,yJd.getInstance(),b);this.Gc(a);this.jf(8,!0)}q(zJd,cr);zJd.prototype.Gc=function(a){cr.prototype.Gc.call(this,a)};function AJd(){return P('<div class="'+Q("waffle-dataconnector-connectionmanager-content")+'"><div class="'+Q("waffle-dataconnector-connectionmanager-connections")+'"><div class="'+Q("waffle-dataconnector-connectionmanager-authorized")+'"></div></div></div>')};function BJd(a,b){o2.call(this,a,b);rq(this,"Connessioni gestite");this.C=new Cr;this.xa(this.C);this.F=new M(this.qa());this.Xa(this.F);this.J=new HT;this.Xa(this.J);nJd(this,OA);oJd(this)}q(BJd,o2);BJd.prototype.Ma=function(){o2.prototype.Ma.call(this);$q(this.Nb(),AJd)};
BJd.prototype.Za=function(){o2.prototype.Za.call(this);this.J.render(this.$a("waffle-dataconnector-connectionmanager-content"));this.F.xb(this.$a("waffle-dataconnector-connectionmanager-connections"));this.getHandler().R(this.F,"action",this.O).R(this.C,"select",this.ma);CJd(this,!0)};function CJd(a,b){Qh(a.ob(),"waffle-dataconnector-connectionmanager-loading",b);IT(a.J,b)}
function DJd(a,b){var c=a.$a("waffle-dataconnector-connectionmanager-authorized");b=ha(b);for(var d=b.next();!d.done;d=b.next())d=new zJd(d.value),a.F.Xa(d),d.render(c)}BJd.prototype.O=function(a){a.stopPropagation();Dr(this.C,a.target)};BJd.prototype.ma=function(){var a=(a=(a=this.C.Te())&&a)&&a.sb();OA.mb(a)};function EJd(a){var b='<div class="'+Q("waffle-dataconnector-bar")+'"><div class="'+Q("waffle-dataconnector-bar-header")+'" tabindex="0" aria-label="',c="Connessione dati: "+Q(a.PO);b+=lr(c);b+='">'+O(a.PO)+'</div><div class="'+Q("waffle-dataconnector-bar-editquery-button-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-bar-error-button-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-bar-timestamp")+'" tabindex="0"></div><div class="'+Q("waffle-dataconnector-bar-refresh-button-wrapper")+
'"></div><div class="'+Q("waffle-dataconnector-bar-progress")+'"><div class="'+Q("waffle-dataconnector-bar-spinner")+'"></div><span class="'+Q("waffle-dataconnector-bar-progress-message")+'"></span></div></div>';return P(b)};function FJd(){A.call(this);this.C={};this.Yc=new mv}q(FJd,A);function GJd(a,b,c){a.C[b]=c}function HJd(a,b){var c=ritz_api.DbxApi.getExecutionStatusForQuery(b);c=null==c?null:a.Yc.yd(rv.Ba(),c);var d=a.C[b];return d?c&&d.getToken()==c.getToken()?(xc(a.C,b),c):d:c};function IJd(a,b,c,d,e){pU.call(this,e);this.V=a;this.O=new sj;this.xa(this.O);this.Aa=b;this.Ra=c;this.D=new oU;this.Xa(this.D);this.D.Gd("waffle-dataconnector-bar-editquery-button");yj(this.O,this.D,N7a,Gj);this.H=new oU;this.Xa(this.H);this.H.Gd("waffle-dataconnector-bar-refresh-button");yj(this.O,this.H,T7a,Gj);this.C=new oU(this.qa().Ma("SPAN",void 0,N(JId,{color:"#FF8897"}),"Errore nell'esecuzione della query"));this.Xa(this.C);this.C.Gd("waffle-dataconnector-bar-error-button");yj(this.O,this.C,
R7a);this.bb=new JJd;this.Wa=d}q(IJd,pU);p=IJd.prototype;p.Isa=function(){return N(EJd,{PO:Ub(this.V,64)})};p.Za=function(){pU.prototype.Za.call(this);this.D.render(this.$a("waffle-dataconnector-bar-editquery-button-wrapper"));this.H.render(this.$a("waffle-dataconnector-bar-refresh-button-wrapper"));this.C.render(this.$a("waffle-dataconnector-bar-error-button-wrapper"));this.refresh()};p.Pia=n("waffle-dataconnector-bar-wrapper");p.focus=function(){this.ob().focus()};
p.refresh=function(){var a=HJd(this.Wa,this.Aa);if(a){var b=a.getState();switch(b){case 4:case 1:a=U(a,5);KJd(this,!0,!1);null!=a?(a="Query in esecuzione - "+(a+"%"),xe(this.$a("waffle-dataconnector-bar-progress-message"),a)):xe(this.$a("waffle-dataconnector-bar-progress-message"),"Esecuzione della query in corso");break;case 2:KJd(this,!1,!1);break;case 3:KJd(this,!1,!0);break;default:hlc("Unrecognized execution state: "+b)}}};
function KJd(a,b,c){Qh(a.ob(),"waffle-dataconnector-bar-executing",b);var d=O7a.isEnabled();b?(a.D.setVisible(!1),a.H.setVisible(!1),a.C.setVisible(!1)):(a.D.setVisible(d),a.H.setVisible(d),a.C.setVisible(d&&c));L(a.$a("waffle-dataconnector-bar-timestamp"),!b);b||(c=a.$a("waffle-dataconnector-bar-timestamp"),d=ritz_api.DbxApi.getLastExecutionTimeForSheet(a.Ra),0>=d?xe(c,""):(d="Ultimo aggiornamento: "+a.bb.format(d),xe(c,d)));L(a.$a("waffle-dataconnector-bar-progress"),b)}
function JJd(){this.C=new Vs(1);this.D=new Vs(Ys.MONTH_DAY_MEDIUM);this.F=new Vs(7)}JJd.prototype.format=function(a){a=new Date(a);var b=new Date,c;0<b.getFullYear()-a.getFullYear()?c=this.C.format(a):a.getMonth()==b.getMonth()&&a.getDate()==b.getDate()?c="Oggi":c=this.D.format(a);a=this.F.format(a);return c+(", "+a)};function LJd(a,b,c,d){qU.call(this,"waffle-connectionbar-id",d);var e=this;bLc(this,function(){e.C.setVisible(!0,!0);uP()});this.H=b.Ib;this.J=a;this.L=b;this.F=c;this.D=null;this.getHandler().R(this.F,"qb",this.zJb).R(this.F,"rb",this.AJb).R(this.F,"Jb",this.refresh).R(this.L,"db-execution-status-updated",this.yJb)}q(LJd,qU);p=LJd.prototype;p.vu=function(){qU.prototype.vu.call(this);this.qB()};p.refresh=function(){MJd(this)};p.cQ=g("D");
function MJd(a){var b=a.F.C.C;if(b&&null!=b.F){var c=b.F,d,e=U(a.F.C.C.F,2);e=wpb(a.H,e);2!=U(e,3)||Bjc()?d=e.getName():d="Collegamento al database";a.D?(e=a.D,e.V!=d&&(e.V=d,e.Ob()&&xe(e.$a("waffle-dataconnector-bar-header"),Ub(d,64))),c=U(c,1),a.D.Aa=c,b=b.Hb(),a.D.Ra=b,a.D.refresh(),a.D.XR()||(a.D.setVisible(!0,!0),uP())):(a.D=new IJd(d,U(c,1),b.Hb(),a.J),a.show())}}p.zJb=function(){MJd(this)};p.AJb=function(){this.D&&(this.D.setVisible(!1,!0),uP())};
p.yJb=function(a){a.D&&0!=a.D.length&&this.D&&cb(a.D,this.D.Aa)&&this.D.refresh()};function q2(a,b){M.call(this,b);this.D=new WT(a,this.qa());this.Xa(this.D);this.L=!1}q(q2,M);p=q2.prototype;p.Nd=function(a){this.L=a;this.D.getHeader().zc(a)};p.refresh=function(){this.D.getHeader().zc(this.L)};p.focus=function(){Ui(this.D.getHeader()).focus()};p.setContent=function(a){this.D.setContent(a)};p.Nb=function(){return this.D.Nb()};p.Ma=function(){this.Jb(this.qa().Ma("DIV","waffle-dataconnector-queryeditor-collapsible-sidebar-widget"));this.D.render(this.ob())};
p.Za=function(){M.prototype.Za.call(this);this.getHandler().R(this,["aftershow","afterhide"],function(a){return a.stopPropagation()}).R(this.D.getHeader(),["charteditor-collapsiblesectionheader-opened","charteditor-collapsiblesectionheader-closed"],this.qwb)};p.qwb=function(a){a.stopPropagation();this.L=this.D.getHeader().isChecked();this.dispatchEvent(Ki(64,this.L))};function NJd(a,b,c){b=c||b;return P('<div class="'+Q("waffle-dataconnector-draggablebar")+'">'+OJd(null,b)+"</div>")}function OJd(){return P('<div class="'+Q("waffle-dataconnector-draggablebar-handle")+'" tabindex="0"><div class="'+Q("waffle-dataconnector-draggablebar-handle-icon")+'"></div></div>')};function PJd(a,b){M.call(this,b);this.D=a;this.Qc=this.F=null;this.H=new ok;this.xa(this.H);this.H.Od(this);this.C=0}q(PJd,M);p=PJd.prototype;p.Ma=function(){this.Jb(N(NJd))};p.Uc=function(a){this.Jb(a);Mh(this.ob(),"waffle-dataconnector-draggablebar");$q(a,OJd)};
p.Za=function(){this.F=this.$a("waffle-dataconnector-draggablebar-handle");this.Qc=new lq(this.ob(),this.F);this.xa(this.Qc);this.Qc.C=!0;pk(this.H,this.F);this.getHandler().R(this.Qc,"start",this.lKb).R(this.Qc,"drag",this.KLb).R(this.Qc,"end",this.kKb);"vertical"==this.D?(vi(this.ob(),8),Mh(this.ob(),"waffle-dataconnector-draggablebar-vertical")):(wi(this.ob(),8),Mh(this.ob(),"waffle-dataconnector-draggablebar-horizontal"))};p.Zc=n(8);p.jb=function(a){this.Qc.jb(a)};
p.lKb=function(){mq(this.Qc,QJd(this));this.dispatchEvent("Je")};p.KLb=function(a){this.C="vertical"==this.D?a.left:a.top;this.dispatchEvent("He")};p.kKb=function(){this.dispatchEvent("Ie")};function QJd(a){var b=a.ob().parentElement.getBoundingClientRect(),c=b.height;b=b.width;"horizontal"==a.D?(b=0,c-=a.Zc()):(c=0,b-=a.Zc());return new Yh(0,0,b,c)};function RJd(a,b){var c=b.getErrorCode(),d=U(b,3);switch(c){case 20:return SJd(a,d);case 14:return r2('Aggiorna il parametro "'+(U(b,6).toUpperCase()+'" in modo che faccia riferimento a una cella della cartella di lavoro attuale e riprova'));case 15:return r2('Aggiorna la cella a cui fa riferimento il parametro "'+(U(b,6).toUpperCase()+'" in modo che contenga testo o un numero'));case 16:return r2("Seleziona un nome del parametro non utilizzato in precedenza");case 13:return r2('Definisci il parametro "'+
(U(b,6).toUpperCase()+'" e riprova'));case 6:return I(H(),"docs-idu")?(a=new Ep,b=a.Ce("span",{"class":"waffle-dataconnector-error-message"})+("Query scaduta. "+(a.Ce("a",{href:"https://sites.google.com/corp/google.com/sheets-dataconnectors-help/error-messages",target:"_blank"})+("Ulteriori informazioni"+(a.Je("a")+a.Je("span"))))),a=a.format(b)):a=TJd("Query scaduta",d),a;case 8:return I(H(),"docs-idu")?(a=new Ep,b="I risultati superano le "+(UJd+(" righe. Aggiorna la query e riprova. "+(a.Ce("a",
{href:"https://sites.google.com/corp/google.com/sheets-dataconnectors-help/error-messages",target:"_blank"})+("Ulteriori informazioni"+a.Je("a"))))),a=a.format(b),a=r2(a)):a=TJd(VJd,d),a;case 18:return r2("La query restituisce un tipo ARRAY o STRUCT che al momento non \u00e8 supportato.");case 9:return a=new Ep,b='Vai a Plx per specificare un motore diverso da "Auto" e riprova. '+(a.Ce("a",{href:"https://sites.google.com/corp/google.com/sheets-dataconnectors-help/error-messages",target:"_blank"})+
("Ulteriori informazioni"+a.Je("a"))),a=a.format(b),r2(a)}return WJd(d)}function XJd(a){var b=new Ep;a=(new ct("Per eseguire questa query, {startLink}accedi al tuo account Google{endLink}")).format({startLink:b.Ce("a",{href:"#",id:a}),endLink:b.Je("a")});return b.format(a)}function SJd(a,b){if(!b)return WJd(b);switch(a){case 2:return r2("Errore Plx: "+b);case 3:return r2("Errore BigQuery: "+b);default:return r2("Errore database: "+b)}}
function WJd(a){return TJd("Si \u00e8 verificato un problema. Riprova pi\u00f9 tardi.",a)}var UJd=(new at(1)).format(1E4),VJd="I risultati superano le "+(UJd+" righe. Aggiorna la query e riprova.");function r2(a){return sd("span",{"class":"waffle-dataconnector-error-message"},a)}function TJd(a,b){var c=new Ep;b&&(a=a+": "+b);return r2(c.format(a))};function YJd(){var a='<div class="'+Q("waffle-dataconnector-textarea-editor")+'"><div class="'+Q("waffle-dataconnector-textarea-editor-textareawrapper")+'"><div class="'+Q("waffle-dataconnector-textarea-editor-overlay")+'"><div class="'+Q("waffle-dataconnector-textarea-editor-overlay-message")+'"></div></div><textarea class="'+Q("waffle-dataconnector-textarea-editor-textarea")+'" spellcheck="false" aria-label="';a+=lr("Inserisci la query");a+='"></textarea><div class="'+Q("waffle-dataconnector-textarea-editor-linegutter")+
'"><div class="'+Q("waffle-dataconnector-textarea-editor-linenumber-container")+'"></div></div></div></div>';return P(a)};function s2(a){M.call(this,a);this.Ud=!0}q(s2,M);s2.prototype.J=function(){this.dispatchEvent("Le")};s2.prototype.jb=function(a){a!=this.Ud&&(this.Ud=a,this.Ob()&&ZJd(this))};s2.prototype.isEnabled=g("Ud");function $Jd(a,b){a=void 0===a?"":a;s2.call(this,b);this.F=this.C=null;this.H=new HT;this.Xa(this.H);this.D=a}q($Jd,s2);$Jd.prototype.Ma=function(){this.Jb(N(YJd))};
$Jd.prototype.Za=function(){var a=this;s2.prototype.Za.call(this);this.C=this.$a("waffle-dataconnector-textarea-editor-textarea");this.C.value=this.D;this.F=new ds(this.C);this.xa(this.F);this.getHandler().R(this.C,"focus",function(){return aKd(a,!0)}).R(this.C,"blur",function(){return aKd(a,!1)}).R(this.C,"scroll",this.L).R(this.F,"input",this.J);this.H.render(this.$a("waffle-dataconnector-textarea-editor-textareawrapper"));ZJd(this);bKd(this,!1)};
$Jd.prototype.J=function(){s2.prototype.J.call(this);cKd(this)};function ZJd(a){a.C.disabled=!a.isEnabled();Qh(a.ob(),"waffle-dataconnector-textarea-editor-disabled",!a.isEnabled());IT(a.H,!1)}function dKd(a){return a.Ob()?a.C.value:a.D}function bKd(a,b){L(a.$a("waffle-dataconnector-textarea-editor-overlay"),b)}function aKd(a,b){Qh(a.ob(),"waffle-dataconnector-textarea-editor-focused",b)}function eKd(a,b){a.Ob()?(a.C.value=b,ZJd(a),cKd(a)):a.D=b}
function cKd(a){var b=dKd(a).split(/\r?\n/).length,c=a.$a("waffle-dataconnector-textarea-editor-linenumber-container"),d=c.childNodes;if(b<d.length)for(;d.item(b);)c.removeChild(d.item(b));else if(b>d.length)for(d=d.length+1;d<=b;d++)c.appendChild(fKd(a,d))}function fKd(a,b){return a.qa().Ma("DIV","waffle-dataconnector-textarea-editor-linenumber",""+b)}$Jd.prototype.L=function(){var a=-this.C.scrollTop;ii(this.$a("waffle-dataconnector-textarea-editor-linenumber-container"),0,a)};function gKd(a){M.call(this,a);this.F=this.qa().Ma("DIV","waffle-dataconnector-dialog-error-message");this.H=this.qa().Ma("DIV","waffle-dataconnector-dialog-info-message");this.J=N(jJd);this.C=new kJd;lJd(this.C,!0);this.Xa(this.C);this.D=!0}q(gKd,M);gKd.prototype.Ma=function(){this.Jb(this.qa().Ma("DIV","waffle-dataconnector-dialog-message-container",this.F,this.H,this.J));this.C.render(this.$a("waffle-dataconnector-dialog-progress-bar"))};
gKd.prototype.Za=function(){M.prototype.Za.call(this);t2(this);Fh(this.F,"live","polite");Fh(this.H,"live","polite");Fh(this.J,"live","polite")};function hKd(a,b){var c=a.$a("waffle-dataconnector-dialog-error-message");t2(a);wd(c,b||od(""));L(c,!!b)}function t2(a){var b=a.$a("waffle-dataconnector-dialog-error-message");wd(b,od(""));L(b,!1);b=a.$a("waffle-dataconnector-dialog-info-message");wd(b,od(""));L(b,!1);a.C.mb(0);lJd(a.C,!0);L(a.$a("waffle-dataconnector-dialog-progress-message"),!1)}
gKd.prototype.isVisible=g("D");gKd.prototype.setVisible=function(a){this.D=a;this.Ob()&&L(this.ob(),this.D)};function iKd(){return P('<div class="'+Q("waffle-dataconnector-newqueryeditor-content")+'"><div class="'+Q("waffle-dataconnector-newqueryeditor-main")+'"><div class="'+Q("waffle-dataconnector-newqueryeditor-editor-pane")+'"></div><div class="'+Q("waffle-dataconnector-newqueryeditor-preview-resize-bar")+'"></div><div class="'+Q("waffle-dataconnector-newqueryeditor-preview-pane")+'"></div></div><div class="'+Q("waffle-dataconnector-newqueryeditor-sidebar")+'"></div></div>')}
function jKd(){return P('<div class="'+Q("waffle-dataconnector-newqueryeditor-footer")+'"><div class="'+Q("waffle-dataconnector-newqueryeditor-preview-button-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-newqueryeditor-message-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-newqueryeditor-insert-button-wrapper")+'"></div></div>')};function kKd(a){a=a.xTb;var b='<div class="'+Q("waffle-dataconnector-query-parameter-prompt-input-container")+'"></div>';a&&(b+='<div class="'+Q("waffle-dataconnector-query-parameter-prompt-toggle-row")+'"><div class="'+Q("waffle-dataconnector-query-parameter-prompt-toggle-label")+'">',b+="Cella di riferimento</div></div>");return P(b)};function lKd(a){rU.apply(this,arguments)}q(lKd,rU);lKd.prototype.getValue=function(){return this.C.getValue()};lKd.prototype.O0=function(a){this.C.mb(a);return!0};function mKd(a,b){F1.call(this,"waffle-dataconnector-query-parameter-prompt",b);LHd(this,"Parametro della query");this.Qc=null;this.rb=!1;this.Ob()&&JHd(this);this.J=new RR;this.xa(this.J);this.J.Gd("waffle-dataconnector-query-parameter-prompt-primary-button");this.H=new lKd("text","Nome","float","",void 0);this.Xa(this.H);this.H.Gd("waffle-dataconnector-query-parameter-prompt-name-field");this.H.ma=!0;this.F=new lKd("text","Valore","float","",void 0);this.Xa(this.F);this.F.Gd("waffle-dataconnector-query-parameter-prompt-value-field");
this.F.ma=!0;b=this.qa();this.L=new cr(N(AJc),Ri(br,"waffle-dataconnector-query-parameter-prompt-rangepicker"),b);b=this.F;var c=this.L;C(b.Aa);b.Aa=c;b.Ob()&&b.Aa&&b.Aa.render(b.$a("waffle-material-labeledinput-embeddedcontrol"));this.D=null;a&&(this.D=new GP,this.Xa(this.D),this.D.Gd("waffle-dataconnector-query-parameter-prompt-cell-reference-toggle"))}q(mKd,F1);p=mKd.prototype;p.Fe=function(a){this.H.mb(a)};p.mb=function(a){this.F.mb(a)};p.getName=function(){return this.H.getValue()};
p.getValue=function(){return this.F.getValue()};function nKd(a,b){a.D&&(a.D.zc(b),a.ANa())}function oKd(a){return null==a.D||a.D.isChecked()}p.clear=function(){this.H.mb("");this.F.mb("");sU(this.H,!1);sU(this.F,!1);this.D&&this.D.zc(!1)};
p.Ma=function(){F1.prototype.Ma.call(this);$q(this.Nb(),kKd,{xTb:!!this.D});this.H.render(this.$a("waffle-dataconnector-query-parameter-prompt-input-container"));this.F.render(this.$a("waffle-dataconnector-query-parameter-prompt-input-container"));if(this.D){var a=this.$a("waffle-dataconnector-query-parameter-prompt-toggle-label");Li(this.D,a);KAc(this.D,a)}this.J.render(KHd(this))};
p.Za=function(){var a=this;F1.prototype.Za.call(this);this.Qc=new lq(this.ob(),this.$a("waffle-dataconnector-modal-header"));this.xa(this.Qc);L(this.Rq(),!1);this.getHandler().R(this.J,"action",this.aIa).R(this.L,"action",function(){return a.dispatchEvent("Ne")});this.D&&(this.getHandler().R(this.D,"change",this.ANa),KAc(this.D,this.$a("waffle-dataconnector-query-parameter-prompt-toggle-label")));pKd(this)};p.ld=ba();
p.aIa=function(){var a=this.H.getValue();(a=Kb(a)?"Inserisci il nome\u00a0di un\u00a0parametro":null)&&sU(this.H,!0,a);a:{var b=this.F.getValue();if(Kb(b))b="Inserisci il valore di un parametro";else{if(oKd(this)&&(b=ritz_api.DbxApi.parseQueryParameterRange(b).getErrorMessage()))break a;b=null}}b&&sU(this.F,!0,b);a||b||this.dispatchEvent("Me")};p.ANa=function(){pKd(this);this.L.setVisible(oKd(this))};function pKd(a){var b=oKd(a)?"Riferimento cella":"Valore";a.F.setContent(b)}p.I7=function(){this.dispatchEvent("Oe")};
p.C7=function(){this.dispatchEvent("Oe")};p.qHa=function(a){13==a.keyCode&&this.aIa()};function qKd(a){return P('<span class="'+Q("waffle-dataconnector-queryeditor-queryparameterchip-content")+'"><span class="'+Q("waffle-dataconnector-queryeditor-queryparameterchip-name")+'">'+O(a.name)+':</span>&nbsp;<span class="'+Q("waffle-dataconnector-queryeditor-queryparameterchip-value")+'">'+O(a.value)+"</span></span>")};function u2(a,b){M.call(this,b);this.C=new cr(void 0,rKd.getInstance(),this.qa());this.Xa(this.C,!0);this.C.setContent(a);this.D=new cr(N(GId),sKd.getInstance(),this.qa());this.Xa(this.D,!0)}q(u2,M);u2.prototype.Ma=function(){this.Jb(this.qa().Ma("DIV","waffle-dataconnector-queryeditor-removable-chip"))};
u2.prototype.Za=function(){var a=this;M.prototype.Za.call(this);Qh(this.ob(),"waffle-dataconnector-queryeditor-removable-chip-error",!1);this.getHandler().R(this.C,"action",function(b){b.stopPropagation();a.dispatchEvent("Pe")}).R(this.D,"action",function(b){b.stopPropagation();a.dispatchEvent("Qe")})};u2.prototype.setContent=function(a){this.C.setContent(a)};u2.prototype.setVisible=function(a){var b=this.getElement();b&&L(b,a)};function sKd(){}q(sKd,br);sKd.prototype.hc=n("waffle-dataconnector-queryeditor-removable-chip-remove-button");
ta(sKd);function rKd(){}q(rKd,br);rKd.prototype.Ma=function(a){var b=br.prototype.Ma.call(this,a);a.qa().appendChild(b,N(JId));a.qa().appendChild(b,a.qa().Ma("DIV","waffle-dataconnector-queryeditor-removable-chip-chip-content"));return b};rKd.prototype.Nb=function(a){return Yd("waffle-dataconnector-queryeditor-removable-chip-chip-content",a)};rKd.prototype.hc=n("waffle-dataconnector-queryeditor-removable-chip-button");ta(rKd);var tKd=new mv;function uKd(a,b){var c=new J1;c.Fe(a);V(c,4,b);return c}
function vKd(a){var b=U(a,3),c=U(a,4);if(b)a:if(c=ritz_api.RitzModelApi.getWorkbookRangeById(b,!1)){if(b=ritz_api.RitzModelApi.getNamedRangeIdForWorkbookRange(b))if(b=ritz_api.RitzModelApi.getNamedRangeById(b)){c=tKd.yd(nz.Ba(),b).getName();break a}c=tKd.yd(Dv.Ba(),c);c=ritz_api.DbxApi.getA1AddressForCoordinate(c.Hb(),c.yc(),c.wc())||"#REF"}else c="#REF";else c?(b=c.Hb(),a=c.$p(),c=c.getColumnIndex(),c=ritz_api.DbxApi.getA1AddressForCoordinate(b,a,c)||"#REF"):c=U(a,2);return c}
function wKd(a){var b=new K1,c=a.Hb();V(b,1,c);c=a.yc();V(b,2,c);a=a.wc();V(b,3,a);return b};function xKd(a,b){u2.call(this,yKd(a),b);this.Gc(a.clone())}q(xKd,u2);xKd.prototype.Gc=function(a){u2.prototype.Gc.call(this,a.clone());this.setContent(yKd(a))};xKd.prototype.sb=function(){return u2.prototype.sb.call(this).clone()};function yKd(a){var b=a.getName().toUpperCase();a=vKd(a);return N(qKd,{name:b,value:a})};function zKd(){return P('<div class="'+Q("waffle-dataconnector-queryeditor-queryparameterwidget")+'"><div class="'+Q("waffle-dataconnector-queryeditor-queryparameterwidget-chip-container")+'"></div><div class="'+Q("waffle-dataconnector-queryeditor-queryparameterwidget-add-parameter-button-wrapper")+'"></div></div>')}
function AKd(a){var b=P,c='<div class="'+Q("waffle-dataconnector-queryeditor-queryparameterwidget-header")+'">';var d=P('<svg class="waffle-dataconnector-query-parameters-icon" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M11.5294118,5.01960784 L11.2941176,4.2745098 C10.9411765,3.21568627 10.1176471,1.33333333 7.80392157,0 L1.80392157,1.96078431 L2.11764706,2.90196078 C3.60784314,2.31372549 3.88235294,2.31372549 4.15686275,2.31372549 C5.68627451,2.31372549 6.47058824,3.64705882 7.29411765,5.88235294 L8.58823529,9.45098039 L6.19607843,13.254902 C5.09803922,14.9803922 4.70588235,15.5686275 4.2745098,15.5686275 C3.56862745,15.5686275 4.19607843,13.8039216 2.35294118,13.8039216 C0.784313725,13.8039216 0,14.8235294 0,16.0784314 C0,17.3333333 1.09803922,18.4313725 3.05882353,18.4313725 C5.64705882,18.4313725 7.1372549,16.4705882 8.15686275,14.745098 L9.56862745,12.3137255 L10.7058824,15.254902 C11.254902,16.7058824 12,18.4313725 14.3137255,18.4313725 C16.745098,18.4313725 18.1568627,15.9215686 18.9803922,12.745098 L18.0392157,12.745098 C17.2156863,15.2156863 16.5490196,15.4117647 15.8823529,15.4117647 C15.0980392,15.4117647 14.8627451,14.0392157 14.5882353,13.2941176 L12.6666667,7.88235294 L14.5098039,4.78431373 C15.2156863,3.60784314 15.4509804,3.21568627 16,3.21568627 C16.5490196,3.21568627 16.3921569,4.54901961 17.5686275,4.54901961 C19.8039216,4.54901961 20,2.82352941 20,1.96078431 C20,1.05882353 19.0196078,0 17.1764706,0 C14.9411765,0 13.254902,2.35294118 12.3921569,3.68627451 L11.5294118,5.01960784 Z" id="dataconnector-parameters-icon-path"></path></defs><g id="Symbols" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="icon/parameters"><g id="Group" transform="translate(2.000000, 3.000000)"><mask id="dataconnector-parameters-icon-mask-2" fill="white"><use xlink:href="#dataconnector-parameters-icon-path"></use></mask><g id="\ud835\udc99"></g><g id="colors/Black---100" mask="url(#dataconnector-parameters-icon-mask-2)" fill="#000000"><g transform="translate(-2.857143, -4.285714)" id="Shape"><polygon points="0 0 26 0 26 26 0 26"></polygon></g></g></g></g></g></svg>');return b(c+
O(d)+"<div>"+O(a.title)+"</div></div>")};function BKd(a){q2.call(this,N(AKd,{title:"Parametri"}),a);this.F=new M;this.Xa(this.F);this.C=new CKd;this.H=new RR("Aggiungi");this.Xa(this.H);this.H.Gd("waffle-dataconnector-queryeditor-queryparameterwidget-add-parameter-button")}q(BKd,q2);p=BKd.prototype;
p.Ma=function(){q2.prototype.Ma.call(this);this.setContent(N(zKd));this.F.xb(this.$a("waffle-dataconnector-queryeditor-queryparameterwidget-chip-container"));this.H.render(this.$a("waffle-dataconnector-queryeditor-queryparameterwidget-add-parameter-button-wrapper"));for(var a=ha(this.C.xd()),b=a.next();!b.done;b=a.next())b.value.render(this.F.getElement())};p.Za=function(){q2.prototype.Za.call(this);this.getHandler().R(this.F,"Pe",this.nKb).R(this.F,"Qe",this.lzb).R(this.H,"action",this.Nib)};
function DKd(a){return a.C.xd().map(function(a){return a.sb()})}function EKd(a,b){for(var c=ha(a.C.xd()),d=c.next();!d.done;d=c.next())d=d.value,a.F.removeChild(d,a.Ob()),C(d);a.C.clear();b=ha(b);for(c=b.next();!c.done;c=b.next())FKd(a,c.value)}function FKd(a,b){GKd(b);var c=b.getName();if(a.C.get(c))throw new HKd("Parameter with name '"+c+"' is\nalready defined.");b=new xKd(b,a.qa());a.C.set(c,b);a.F.Xa(b,a.Ob())}p.nKb=function(a){a.stopPropagation();this.dispatchEvent(new IKd("Te",this,a.target.sb()))};
p.lzb=function(a){a.stopPropagation();this.dispatchEvent(new IKd("Se",this,a.target.sb()))};p.Nib=function(a){a.stopPropagation();this.dispatchEvent(new IKd("Re",this))};function CKd(){this.Eb={}}p=CKd.prototype;p.get=function(a){return this.Eb["P_"+a.toUpperCase()]||null};p.has=function(a){return!!this.Eb["P_"+a.toUpperCase()]};p.set=function(a,b){this.Eb["P_"+a.toUpperCase()]=b};p.xd=function(){return Object.values(this.Eb)};p.clear=function(){for(var a=Object.keys(this.Eb),b=0;b<a.length;b++)delete this.Eb[a[b]]};
function GKd(a){var b=a.getName();if(!b)throw new JKd("Parameters must have a name");var c=U(a,2),d=U(a,3);a=U(a,4);if(!c&&!d&&!a)throw new JKd("Parameter '"+b+"'has no value set.");}function JKd(a){var b=Error.apply(this,arguments);this.message=b.message;"stack"in b&&(this.stack=b.stack)}q(JKd,Error);function HKd(a){var b=Error.apply(this,arguments);this.message=b.message;"stack"in b&&(this.stack=b.stack)}q(HKd,Error);
function KKd(a){var b=Error.apply(this,arguments);this.message=b.message;"stack"in b&&(this.stack=b.stack)}q(KKd,Error);function IKd(a,b,c){D.call(this,a,b);this.C=c}q(IKd,D);function LKd(a,b,c,d){E.call(this);this.J=new Th(this);this.xa(this.J);this.H=new Th(this);this.xa(this.H);this.D=a;this.C=null;this.V=c;this.O=b;this.F=null;this.L=d;this.J.R(this.D,"Re",this.WEb).R(this.D,"Se",this.XEb).R(this.D,"Te",this.YEb)}q(LKd,E);p=LKd.prototype;p.Ya=function(){this.F&&this.F.yD();this.F=null;C(this.C)};
p.WEb=function(){this.OO();this.C=new mKd(2==this.L);this.C.render();this.C.J.setContent("Aggiungi");nKd(this.C,!1);this.C.setVisible(!0);(new Xj(this.D.Nb(),0)).ld(this.C.ob(),0);var a=this.C;this.H.R(a,"Me",this.hIb).R(a,"Oe",this.OO).R(a,"Ne",this.PRa)};p.YEb=function(a){a=a.C;this.OO();this.C=new mKd(2==this.L);this.C.render();this.C.Fe(a.getName());this.C.mb(vKd(a));nKd(this.C,!ev(a,2));this.C.J.setContent("Aggiorna");this.C.setVisible(!0);(new Xj(this.D.Nb(),0)).ld(this.C.ob(),0);MKd(this,a)};
p.OO=function(){C(this.C);this.C=null};p.hIb=function(){var a=this.C,b=a.getName().toUpperCase(),c=a.getValue();if(this.D.C.has(b))sU(a.H,!0,"Esiste gi\u00e0 un parametro con lo stesso nome.");else if(a=oKd(a),b=NKd(this,b,c,a))FKd(this.D,b),this.OO(),this.dispatchEvent(new OKd("Ue",b))};
function MKd(a,b){var c=b.getName();b=a.C;a.H.R(b,"Me",function(){var b=a.C,e=b.getName().toUpperCase(),f=b.getValue();if(e==c||!a.D.C.has(e))if(b=oKd(b),e=NKd(a,e,f,b)){f=a.D;GKd(e);b=e.getName();if(!f.C.get(c))throw new KKd;if(b.toUpperCase()!=c.toUpperCase()&&f.C.get(b))throw new HKd;var h=f.C.get(c);h.Gc(e);b!=c&&(delete f.C.Eb["P_"+c.toUpperCase()],f.C.set(b,h));a.OO();a.dispatchEvent(new OKd("We",e))}}).R(b,"Oe",a.OO).R(b,"Ne",a.PRa)}
p.XEb=function(a){a=a.C;var b=a.getName();this.D.C.has(b);var c=this.D,d=c.C.get(b);if(!d)throw new KKd;c.F.removeChild(d,c.Ob());delete c.C.Eb["P_"+b.toUpperCase()];C(d);this.dispatchEvent(new OKd("Ve",a))};
function NKd(a,b,c,d){d?(c=ritz_api.DbxApi.parseQueryParameterRange(c),c.getErrorMessage()?(a=a.C,b=c.getErrorMessage(),null==b?sU(a.F,!1):sU(a.F,!0,b),a=null):(c.getErrorMessage(),c.getNamedRangeWorkbookRangeId()?(c=c.getNamedRangeWorkbookRangeId(),d=new J1,d.Fe(b),V(d,3,c),b=d):c.getGridRange()?(c=dP(c.getGridRange()),c=wKd(c),b=uKd(b,c)):b=void 0,ritz_api.DbxApi.resolveQueryParameter((new mv).serialize(b)).getErrorCode()?(sU(a.C.F,!0,"Please enter a valid cell"),a=null):a=b)):(a=new J1,a.Fe(b),
V(a,2,c));return a}p.PRa=function(){var a=this;HR(this.V,null,new PKd(this.C),this.C.getValue(),!0,!1,!0,function(b){a.O.setVisible(!1);a.C.setVisible(!1);a.F=b;a.J.Sc(b,"hide",a.sLb)})};p.sLb=function(){this.isDisposed()||(this.F=null,this.O.setVisible(!0),this.C.setVisible(!0))};function PKd(a){this.C=a}PKd.prototype.mb=function(a){this.C.mb(a);nKd(this.C,!0)};function OKd(a,b,c){D.call(this,a,c);this.C=b}q(OKd,D);function QKd(){return P('<div class="'+Q("waffle-dataconnector-querypreviewrenderer")+'"><div class="'+Q("waffle-dataconnector-querypreviewrenderer-canvas-wrapper")+'"><div class="'+Q("waffle-dataconnector-querypreviewrenderer-a11y-table")+'" tabIndex="0"></div><div class="'+Q("waffle-dataconnector-querypreviewrenderer-preview-overlay")+'"></div></div></div>')};function v2(a,b){M.call(this,b);this.J=a;this.D=this.qa().Ma("CANVAS");KJ(this.D);this.F=JJ(this.D);this.L=ritz_api.DbxApi.createGridViewModel(101,24);this.C=ritz_api.DbxApi.createGridView(this.L,this.F,this.J.D,this.J.C);LJ(this.D,this.F,800,243);RKd(this);this.Yc=new mv;this.H=!0}q(v2,M);v2.prototype.Ma=function(){this.Jb(N(QKd));var a=this.$a("waffle-dataconnector-querypreviewrenderer-canvas-wrapper");a.appendChild(this.D);Mh(a,"native-scrollbar");Mh(a,"native-scrollbar-ltr")};
v2.prototype.Za=function(){M.prototype.Za.call(this);L(this.ob(),this.H)};v2.prototype.Ya=function(){M.prototype.Ya.call(this)};v2.prototype.setVisible=function(a){this.H=a;this.Ob()&&L(this.ob(),this.H)};function SKd(a,b){Qh(a.$a("waffle-dataconnector-querypreviewrenderer-preview-overlay"),"visible",b)}function TKd(a,b,c){a.D.style.width=b;a.D.style.height=c;LJ(a.D,a.F,b,c);ui(a.$a("waffle-dataconnector-querypreviewrenderer-preview-overlay"),new Od(b,c));RKd(a)}
function RKd(a){a.F.fillStyle="#f3f3f3";a.F.fillRect(0,0,a.D.width,a.D.height)}function UKd(a,b){var c=a.qa().Ma("TR");b=ha(b);for(var d=b.next();!d.done;d=b.next())d=d.value,c.appendChild(a.qa().Ma("TH",{scope:"col"},d));return c}function VKd(a,b){var c=a.qa().Ma("TR");b=iv(b,1);b=ha(b);for(var d=b.next();!d.done;d=b.next())d=d.value,c.appendChild(a.qa().Ma("TH",{scope:"col"},ritz_api.RitzModelApi.renderFormattedValueProtoAsString(a.Yc.serialize(d))));return c};function WKd(a){M.call(this,a);this.C=null}q(WKd,M);p=WKd.prototype;p.Ya=function(){M.prototype.Ya.call(this);this.C=null};p.Ma=function(){this.Jb(this.qa().Ma("DIV",{tabIndex:0,"class":"waffle-dataconnector-queryeditor-sidebaraccordion"}))};p.Za=function(){M.prototype.Za.call(this);this.getHandler().R(this,"open",this.Jlb).R(this.ob(),"keyup",this.oKb)};p.Xa=function(a,b){M.prototype.Xa.call(this,a,b)};p.Xf=function(a,b,c){M.prototype.Xf.call(this,a,b,c)};
p.Jlb=function(a){a.target instanceof q2&&this.C!=a.target&&(this.C&&this.C.Nd(!1),this.C=a.target)};p.oKb=function(a){13==a.keyCode&&a.target==this.ob()&&(a=this.Xc(0))&&a.focus()};function XKd(){A.call(this);this.C=Qz("win")}q(XKd,A);function YKd(a,b){a.C.dataConnectorOnCompleteAuth=b;b=(new El(a.C.location.href)).resolve(new El("dbx/ssoLogin")).toString();var c=$d();(a=Gp(b,{target:"google_popup",width:500,height:500,top:Math.floor((c.height-500)/2),left:Math.floor((c.width-500)/2),toolbar:!1,menubar:!1,location:!1,statusbar:!1},a.C))&&a.focus()}XKd.prototype.Ya=function(){delete this.C.dataConnectorOnCompleteAuth;A.prototype.Ya.call(this)};var ZKd=new at(1);
function $Kd(a,b){var c=U(a,3);return b?U(a,4)?"La query restituisce pi\u00f9 di "+(ZKd.format(c)+(" righe di dati. Modifica la query in modo che restituisca un massimo di "+(ZKd.format(1E4)+" righe."))):"La query restituisce "+(ZKd.format(c)+(" righe di dati. Modifica la query in modo che restituisca un massimo di "+(ZKd.format(1E4)+" righe."))):(new ct("{TOTAL_ROWS,plural, =0{La query non ha restituito risultati.}=1{La query ha restituito 1 riga di dati.}other{La query ha restituito: # righe di dati.}}")).format({TOTAL_ROWS:c})};function w2(a,b,c,d,e,f,h){F1.call(this,"waffle-dataconnector-newqueryeditor",h);this.Mc=a;this.Vc=b;this.dd=c;this.H=new RR("Vedi risultati");this.H.Gd("waffle-dataconnector-newqueryeditor-preview-query-button");this.Xa(this.H);this.Aa=new nU("Inserisci risultati");this.Aa.Gd("waffle-dataconnector-newqueryeditor-execute-query-button");this.Xa(this.Aa);this.D=new $Jd(void 0,this.qa());this.Xa(this.D);this.L=new WKd;this.Xa(this.L);this.qb=new BKd(this.qa());this.L.Xa(this.qb,!0);this.mc=new LKd(this.qb,
this,e,this.J_());this.xa(this.mc);this.ib=d;this.Xa(this.ib);this.F=new gKd(this.qa());this.Xa(this.F);this.J=new PJd("horizontal",this.qa());this.xa(this.J);this.Sb=this.Ra=!1;this.Gb=null;this.Wb=f||new XKd;this.xa(this.Wb);this.tb=this.ma=null}q(w2,F1);function aLd(a,b,c){a.D.jb(!1);b.then(function(b){return bLd(a,b)},function(){return bLd(a,null)});c&&c.then(function(b){3==b.getState()&&(a.Ob()?cLd(a,b):a.tb=function(){cLd(a,b)})})}
function dLd(a){var b=a.xja(),c;if(c=b){a=ha(DKd(a.qb));for(c=a.next();!c.done;c=a.next())gv(b,3,c.value);c=b}return c}function bLd(a,b){if(b){var c=iv(b,3).map(function(a){return eLd(a)});EKd(a.qb,c)}a.Bna(b);a.K_()}function eLd(a){if(!U(a,3))return a;var b=U(a,3);return 11!=ritz_api.RitzModelApi.getWorkbookRangeType(b)?a:(b=ritz_api.RitzModelApi.getWorkbookRangeById(b,!1))?(b=(new mv).yd((new Dv).Ba(),b),b=wKd(b),uKd(a.getName(),b)):a}p=w2.prototype;
p.cOa=function(){this.Ra=!0;t2(this.F);fLd(this,od("Esecuzione della query in corso"));x2(this)};
p.ZNa=function(a,b){this.Ra=!1;this.Gb=b;this.Sb=gLd(a);hLd(this,a);b=this.ib;a=U(a,2);var c=b.Yc.serialize(a);ritz_api.DbxApi.setQueryResult(b.C,c);c=ritz_api.DbxApi.getWidth(b.C);var d=ritz_api.DbxApi.getHeight(b.C),e=ritz_api.GridViewApi.getHeaderDepth(b.C,"COLUMNS"),f=ritz_api.GridViewApi.getHeaderDepth(b.C,"ROWS");TKd(b,c+f,d+e);ritz_api.GridViewApi.renderOriginView(b.C,0,0);ritz_api.GridViewApi.renderHeaderView(b.C,"ROWS",0,d,0,e,null,null);ritz_api.GridViewApi.renderHeaderView(b.C,"COLUMNS",
0,c,f,0,null,null);ritz_api.GridViewApi.renderGridView(b.C,0,0,c,d,f,e,null,null);SKd(b,!1);c=b.qa().Ma("TABLE");d=b.qa().Ma("THEAD",void 0,UKd(b,iv(a,1)));e=b.qa().Ma("TBODY");a=iv(a,2);a=ha(a);for(f=a.next();!f.done;f=a.next())e.appendChild(VKd(b,f.value));c.appendChild(d);c.appendChild(e);a=b.Fb("waffle-dataconnector-querypreviewrenderer-a11y-table");b.qa().Dd(a);c&&b.qa().appendChild(a,c);iLd(this);x2(this)};function iLd(a){var b=Math.min(xi(a.ib.D).height+16,240);jLd(a,b)}
p.YNa=function(a){a=a.Hj();fLd(this,od("Esecuzione della query in corso"),U(a,5))};p.XNa=function(a){this.Ra=!1;t2(this.F);cLd(this,a.Hj());x2(this)};function cLd(a,b){10==b.getErrorCode()?kLd(a):(b=RJd(a.J_(),b),hKd(a.F,b))}p.Soa=function(){this.Ra=!0;t2(this.F);fLd(this,od("Aggiornamento del registro in corso"));x2(this)};p.Qoa=function(a){this.Ra=!1;t2(this.F);cLd(this,a.Hj());x2(this)};p.Ma=function(){F1.prototype.Ma.call(this);$q(this.Nb(),iKd);var a=KHd(this);$q(a,jKd);this.L.render(this.$a("waffle-dataconnector-newqueryeditor-sidebar"))};
p.Za=function(){var a=this;F1.prototype.Za.call(this);this.D.render(this.$a("waffle-dataconnector-newqueryeditor-editor-pane"));this.Aa.render(this.$a("waffle-dataconnector-newqueryeditor-insert-button-wrapper"));this.H.render(this.$a("waffle-dataconnector-newqueryeditor-preview-button-wrapper"));this.F.render(this.$a("waffle-dataconnector-newqueryeditor-message-wrapper"));this.ib.render(this.$a("waffle-dataconnector-newqueryeditor-preview-pane"));this.J.xb(this.$a("waffle-dataconnector-newqueryeditor-preview-resize-bar"));
this.getHandler().R(this.J,["He","Ie"],this.Zxb).R(this.H,"action",this.AOb).R(this.Aa,"action",this.Xcb).R(this.mc,["Ue","Ve","We"],this.FMb).R(this.D,"Le",this.K_).R(this.J,"key",this.Yxb);$i(function(){if(!a.isDisposed()){var b=a.ib;ritz_api.DbxApi.renderBlankPreview(b.C);var c=ritz_api.DbxApi.getWidth(b.C),d=ritz_api.DbxApi.getHeight(b.C),e=ritz_api.GridViewApi.getHeaderDepth(b.C,"COLUMNS"),f=ritz_api.GridViewApi.getHeaderDepth(b.C,"ROWS");TKd(b,c+f,d+e);ritz_api.GridViewApi.renderOriginView(b.C,
0,0);ritz_api.GridViewApi.renderHeaderView(b.C,"ROWS",0,d,0,e,null,null);ritz_api.GridViewApi.renderHeaderView(b.C,"COLUMNS",0,c,f,0,null,null);ritz_api.GridViewApi.renderGridView(b.C,0,0,c,d,f,e,null,null);SKd(b,!1);a.tb&&a.tb()}});jLd(this,0);x2(this)};p.Ya=function(){F1.prototype.Ya.call(this);C(this.ma);this.ma=null};p.K_=function(){x2(this)};p.setVisible=function(a){F1.prototype.setVisible.call(this,a);a&&lLd(this)};function lLd(a){a.L.nf(function(a){a.refresh()})}
function jLd(a,b){var c=void 0===c?!0:c;C(a.ma);a.ma=null;c?(c=mLd(a),a.ma=new nLd(c,b,200,a),a.xa(a.ma),a.ma.play()):oLd(a,b)}function mLd(a){return a.Ob()?xi(a.$a("waffle-dataconnector-newqueryeditor-preview-pane")).height:0}
function oLd(a,b){var c=a.$a("waffle-dataconnector-newqueryeditor-main");b=xi(c).height-a.J.Zc()-b;a=a.J;mq(a.Qc,QJd(a));a.C="vertical"==a.D?jDa(a.Qc,b):kDa(a.Qc,b);c=ha("vertical"==a.D?[a.C,0]:[0,a.C]);b=c.next().value;c=c.next().value;HC(a.ob(),b,c,a.we());a.dispatchEvent("He")}p.FMb=function(a){if("Ue"==a.type){a=a.C.getName().toUpperCase();a=2==this.J_()?"${"+a+"}":"@"+a;var b=dKd(this.D);iba(b,a)||(/[^\s"']$/.test(b)&&(a=" "+a),eKd(this.D,b+a))}x2(this)};
function x2(a){var b=dLd(a);a.Ra||null==b?(a.Aa.jb(!1),a.H.jb(!1)):(a.H.jb(!0),a.Aa.jb(!0),b=a.Gb&&a.Gb.equals(b),SKd(a.ib,!b),b?(a.H.setContent(N(HId)),zk(a.H,"Aggiorna risultati")):(a.H.setContent("Vedi risultati"),zk(a.H,"Vedi risultati")))}p.AOb=function(){NA.Zb(pLd(this))};p.Xcb=function(){var a=dLd(this);this.Vc.Zb(this.dd(a))};function pLd(a){var b=new S1;V(b,1,a.Mc);a=dLd(a);V(b,2,a);V(b,3,30);return b}
function hLd(a,b){var c=0;a.F.C.D||(fLd(a,od("Esecuzione della query in corso"),100),c=1500);$i(function(){if(!a.isDisposed()){t2(a.F);var c=od($Kd(b,a.Sb));if(gLd(b))hKd(a.F,c);else{var e=a.F,f=e.$a("waffle-dataconnector-dialog-info-message");t2(e);wd(f,c||od(""));L(f,!!c)}}},c)}function fLd(a,b,c){a=a.F;wd(a.$a("waffle-dataconnector-dialog-progress-label"),b);null!=c&&mJd(a.C,c);L(a.$a("waffle-dataconnector-dialog-progress-message"),!0)}
function kLd(a){var b="waffle-dataconnector-ssologin-"+ac(),c=XJd(b);hKd(a.F,c);(b=Ud(b))&&a.getHandler().R(b,"click",function(){return qLd(a)})}p.Zxb=function(){var a=this.$a("waffle-dataconnector-newqueryeditor-editor-pane");wi(a,this.J.C);var b=this.$a("waffle-dataconnector-newqueryeditor-main");a=this.$a("waffle-dataconnector-newqueryeditor-preview-pane");b=xi(b).height-this.J.C-this.J.Zc();wi(a,b)};p.Yxb=function(a){13==a.keyCode&&(0==mLd(this)?iLd(this):jLd(this,0));a.stopPropagation()};
function qLd(a){YKd(a.Wb,function(){NA.Zb(pLd(a))})}function nLd(a,b,c,d){Ms.call(this,[a],[b],c);this.F=d}q(nLd,Ms);nLd.prototype.Q_=function(){oLd(this.F,this.coords[0])};nLd.prototype.wS=function(){oLd(this.F,this.xP[0])};function gLd(a){return 1E4<U(a,3)||!!U(a,4)};function rLd(a,b,c){b=c||b;a='<div class="'+Q("waffle-dataconnector-pill-menuitem-refreshquery")+" "+Q("waffle-dataconnector-pill-menuitem")+'">'+O(HId(null,b));return P(a+"Aggiorna query</div>")}
function sLd(){var a='<div class="'+Q("waffle-dataconnector-pill-menuitem-editquery")+" "+Q("waffle-dataconnector-pill-menuitem")+'">';var b=P('<svg class="waffle-dataconnector-edit-icon" xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24 24" fill="#000000"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/><path d="M0 0h24v24H0z" fill="none"/></svg>');a+=O(b);return P(a+
"Modifica query</div>")}function tLd(a,b,c){b=c||b;a='<div class="'+Q("waffle-dataconnector-pill-menuitem-viewerror")+" "+Q("waffle-dataconnector-pill-menuitem")+'">'+O(IId({color:"#000000"},b));return P(a+"Visualizza errore</div>")}function uLd(a,b,c){b=c||b;a='<div class="'+Q("waffle-dataconnector-pill-menuitem-bigquery-helpdoc")+" "+Q("waffle-dataconnector-pill-menuitem")+'">'+O(KId(null,b));return P(a+"Ulteriori informazioni su BigQuery</div>")};function vLd(a,b){ET.call(this,ar(MId,{opacity:.54}),new Vk(b),wLd.getInstance(),b);this.H=a;this.F={};this.F["refresh-query"]=new Mk(N(rLd),"refresh-query",this.qa());this.zd(this.F["refresh-query"]);this.F["edit-query"]=new Mk(N(sLd),"edit-query",this.qa());this.zd(this.F["edit-query"]);this.F["view-error"]=new Mk(N(tLd),"view-error",this.qa());this.zd(this.F["view-error"]);this.F["menu-separator"]=new Qk(this.qa());this.zd(this.F["menu-separator"]);this.F["bigquery-helpdoc"]=new Mk(N(uLd),"bigquery-helpdoc",
this.qa());this.zd(this.F["bigquery-helpdoc"]);this.getHandler().R(this.Ac(),"action",this.V)}q(vLd,ET);vLd.prototype.Za=function(){ET.prototype.Za.call(this);Mh(this.Ac().getElement(),"waffle-dataconnector-pill-menu");var a=xi(this.getElement());this.Gb=new Xh(0,0,-a.height,0)};vLd.prototype.V=function(a){a=a.target.sb();(a=xLd[a])&&a.Zb()};
vLd.prototype.refresh=function(a){var b=[];switch(a.getState()){case 2:b.push("edit-query");b.push("refresh-query");break;case 3:b.push("view-error")}3==ritz_api.DbxApi.getConnectionTypeForQuery(this.H)&&(b.push("menu-separator"),b.push("bigquery-helpdoc"));a=ha(Object.values(this.F));for(var c=a.next();!c.done;c=a.next())c.value.setVisible(!1);b=ha(b);for(a=b.next();!a.done;a=b.next())this.F[a.value].setVisible(!0)};
var yLd={},xLd=(yLd["bigquery-helpdoc"]=K7a,yLd["edit-query"]=N7a,yLd["refresh-query"]=T7a,yLd["view-error"]=U7a,yLd);function wLd(){}q(wLd,WHc);wLd.prototype.Qp=function(a){return a.Ma("DIV",{style:"display:none;"})};ta(wLd);function zLd(a,b,c){b=c||b;a='<div class="'+Q("waffle-dataconnector-pill")+'"><div class="'+Q("waffle-dataconnector-pill-timestamp")+'"></div><div class="'+Q("waffle-dataconnector-pill-progress")+'"><div class="'+Q("waffle-dataconnector-pill-spinner")+'"></div><span class="'+Q("waffle-dataconnector-pill-progress-message")+'">';a=a+"Esecuzione query\u2026"+(' </span><span class="'+Q("waffle-dataconnector-pill-progress-timer")+'"></span></div><div class="'+Q("waffle-dataconnector-pill-error")+'">'+
O(IId(null,b)));a=a+"Errore di esecuzione"+('</div><div class="'+Q("waffle-dataconnector-pill-editquery-button-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-pill-refresh-button-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-pill-menu-button-wrapper")+'"></div></div>');return P(a)};function ALd(a,b,c,d,e){M.call(this,e);this.L=a;this.ma=b;this.$=c;this.O=d;this.V=new BLd;this.D=new Zi(100);this.xa(this.D);this.J=new sj;this.xa(this.J);this.F=new QR;this.Xa(this.F);this.F.Gd("waffle-dataconnector-pill-editquery-button");yj(this.J,this.F,N7a,Gj);this.H=new QR;this.H.Gd("waffle-dataconnector-pill-refresh-button");this.Xa(this.H);yj(this.J,this.H,T7a,Gj);this.C=new vLd(a,this.qa());this.C.Gd("waffle-dataconnector-pill-menu-button");this.Xa(this.C)}q(ALd,M);ALd.prototype.Ma=function(){this.Jb(N(zLd))};
ALd.prototype.Za=function(){M.prototype.Za.call(this);this.F.render(this.$a("waffle-dataconnector-pill-editquery-button-wrapper"));this.H.render(this.$a("waffle-dataconnector-pill-refresh-button-wrapper"));this.C.render(this.$a("waffle-dataconnector-pill-menu-button-wrapper"));this.refresh();this.ld()};ALd.prototype.ld=function(){this.$.ld(this.ob(),1,new Xh(0,0,12,50))};
ALd.prototype.refresh=function(){var a=HJd(this.O,this.L);if(a){var b=O7a.isEnabled(),c=a.getState();switch(c){case 4:case 1:L(this.$a("waffle-dataconnector-pill-timestamp"),!1);L(this.$a("waffle-dataconnector-pill-progress"),!0);L(this.$a("waffle-dataconnector-pill-error"),!1);ev(a,7)&&CLd(this,U(a,7));this.F.setVisible(!1);this.H.setVisible(!1);this.C.setVisible(!1);break;case 2:L(this.$a("waffle-dataconnector-pill-timestamp"),!0);L(this.$a("waffle-dataconnector-pill-progress"),!1);L(this.$a("waffle-dataconnector-pill-error"),
!1);this.D.stop();this.D.UC();DLd(this);this.F.setVisible(!1);this.H.setVisible(b);this.C.setVisible(b);this.C.isVisible()&&this.C.refresh(a);break;case 3:L(this.$a("waffle-dataconnector-pill-timestamp"),!1);L(this.$a("waffle-dataconnector-pill-progress"),!1);L(this.$a("waffle-dataconnector-pill-error"),!0);this.D.stop();this.D.UC();this.F.setVisible(b);this.H.setVisible(!1);this.C.setVisible(b);this.C.isVisible()&&this.C.refresh(a);b||(L(this.$a("waffle-dataconnector-pill-timestamp"),!0),L(this.$a("waffle-dataconnector-pill-error"),
!1),DLd(this));break;default:hlc("Unrecognized execution state: "+c)}}};function DLd(a){var b=ritz_api.DbxApi.getLastExecutionTimeForSheet(a.ma);0>=b||(b="Ultimo aggiornamento: "+a.V.format(b),a=a.$a("waffle-dataconnector-pill-timestamp"),xe(a,b))}function CLd(a,b){if(!a.D.enabled){var c=(Fa()-b)/1E3,d=a.$a("waffle-dataconnector-pill-progress-timer");xe(d,c.toFixed(1)+"s");a.D.R("tick",function(){c+=.1;xe(d,c.toFixed(1)+"s")});a.D.start()}}
function BLd(){this.C=new Vs(1);this.D=new Vs(Ys.MONTH_DAY_MEDIUM);this.F=new Vs(7)}BLd.prototype.format=function(a){a=new Date(a);var b=new Date,c;0<b.getFullYear()-a.getFullYear()?c=this.C.format(a):a.getMonth()==b.getMonth()&&a.getDate()==b.getDate()?c="Oggi":c=this.D.format(a);a=this.F.format(a);return c+(", "+a)};function ELd(a,b,c,d,e){A.call(this);this.D=a;this.F=b;this.J=c;this.L=d;this.H=e;this.cb=new Th(this);this.xa(this.cb);this.C=null;this.cb.R(this.J,"T",this.fKb).R(this.D,"qb",this.gKb).R(this.D,"rb",this.hKb).R(this.L,"db-execution-status-updated",this.eKb).R(this.D,"Jb",this.refresh)}q(ELd,A);p=ELd.prototype;p.Ya=function(){A.prototype.Ya.call(this);C(this.C)};p.refresh=function(){FLd(this)};p.fKb=function(){this.C&&this.C.ld()};p.gKb=function(){FLd(this)};p.hKb=function(){C(this.C);this.C=null};
function FLd(a){var b=a.D.C.C;if(b&&null!=b.F)if(a.C)a.C.refresh();else if(b=XD(a.F)){b=new Xj(b.Wa.J,1);var c=a.D.C.C,d=U(c.F,1);c=c.Hb();a.C=new ALd(d,c,b,a.H);a.C.render()}}p.eKb=function(a){a.D&&0!=a.D.length&&this.C&&cb(a.D,this.C.L)&&this.C.refresh()};function GLd(a,b,c,d){A.call(this);this.$=a;this.ma=b;this.Aa=c;this.O=this.J=this.L=null;this.D=d||null;this.C=3;this.V=new HLd;this.F=this.H=null}q(GLd,A);p=GLd.prototype;p.getId=function(){return Ba(this)};p.Ya=function(){this.stop();A.prototype.Ya.call(this)};p.start=function(){this.C=2;this.F=this.H=null;this.EBa(this.$)};p.stop=function(){2==this.C&&(this.C=3,this.V.stop())};function ILd(a,b){a.L=b;return a}function JLd(a,b){a.J=b;return a}function KLd(a,b){a.O=b;return a}
p.EBa=function(a){var b=this;this.ma.call(this.D,a).then(function(a){if(2==b.C){b.H=a;b.F=null;var c=b.Aa.call(b.D,a);if(c){b.O&&b.O.call(b.D,a);a:{a=b.V;c=v(b.EBa,b,c);if(10>a.F){a.F++;var e=1E3}else if(60>a.D)a.D++,e=5E3;else{a=!1;break a}e+=Math.round(.2*e*(Math.random()-.5)*2);a.C=$i(c,e);a=!0}a||LLd(b,Error("Polling timed out"))}else b.stop(),b.C=4,b.H=a,b.F=null,b.L&&b.L.call(b.D,a)}},function(a){2==b.C&&LLd(b,a)})};function LLd(a,b){a.stop();a.C=1;a.H=null;a.F=b;a.J&&a.J.call(a.D,b)}
p.getStatus=g("C");p.dK=g("F");function HLd(){this.D=this.F=0;this.C=null}HLd.prototype.stop=function(){this.D=this.F=0;aj(this.C);this.C=null};function MLd(a){this.C=a}function NLd(a,b){var c=U(b,2);return new GLd(b,function(b){return UId(a.C,b)},function(a){if(1==a.Hj().getState()){var b=new S1;V(b,2,c);b.setToken(a.Hj().getToken());return b}return null})};function OLd(){return P('<div class="'+Q("waffle-dataconnector-queryeditor-content")+'"><div class="'+Q("waffle-dataconnector-queryeditor-editor-pane")+'"></div><div class="'+Q("waffle-dataconnector-queryeditor-preview-pane")+'"><div class="'+Q("waffle-dataconnector-queryeditor-preview-canvas-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-queryeditor-preview-overlay")+'"><div class="'+Q("waffle-dataconnector-queryeditor-preview-overlay-text")+'"></div></div></div></div>')};function PLd(a,b,c,d,e,f,h,k){o2.call(this,f,h);var l=this;rq(this,"Editor query");pJd(this);this.Mc=a;this.C=b;this.Xa(this.C);this.Ra=c;this.Vc=d;this.Ib=e;this.J=this.qa().Ma("CANVAS");KJ(this.J);this.Aa=JJ(this.J);this.Bb=ritz_api.DbxApi.createGridViewModel(101,24);this.F=ritz_api.DbxApi.createGridView(this.Bb,this.Aa,this.Ib.D,this.Ib.C);LJ(this.J,this.Aa,800,243);QLd(this);nJd(this,this.Ra,function(){return l.Vc(RLd(l.C))});oJd(this);this.Yc=new mv;this.O=null;this.ib=!1;this.Gb=k||new XKd;
this.xa(this.Gb);this.ma=!1;this.mc=new SLd(this);this.xa(this.mc)}q(PLd,o2);p=PLd.prototype;p.Ma=function(){o2.prototype.Ma.call(this);$q(this.Nb(),OLd)};
p.Za=function(){var a=this;o2.prototype.Za.call(this);this.C.render(this.$a("waffle-dataconnector-queryeditor-editor-pane"));yj(this.tb,this.C.L,NA,Gj,function(){return TLd(a)});this.getHandler().R(this.C,"Xe",this.gsa);var b=this.$a("waffle-dataconnector-queryeditor-preview-canvas-wrapper");b.appendChild(this.J);Mh(b,"native-scrollbar");Mh(b,"native-scrollbar-ltr");ULd(this,!1);p2(this);this.gsa();VLd(this.C,"Solo gli utenti con accesso in modifica possono visualizzare e modificare la query")};
p.Ya=function(){o2.prototype.Ya.call(this);delete this.Bb;delete this.F};p.cOa=function(){this.ma=!0;L(this.$a("waffle-dataconnector-queryeditor-preview-overlay-text"),!1);p2(this);sJd(this,"Esecuzione della query in corso");WLd(this)};
p.ZNa=function(a,b){this.ma=!1;this.O=b;this.ib=XLd(a);YLd(this,a);a=U(a,2);a=this.Yc.serialize(a);ritz_api.DbxApi.setQueryResult(this.F,a);a=ritz_api.DbxApi.getWidth(this.F);b=ritz_api.DbxApi.getHeight(this.F);var c=ritz_api.GridViewApi.getHeaderDepth(this.F,"COLUMNS"),d=ritz_api.GridViewApi.getHeaderDepth(this.F,"ROWS"),e=a+d,f=b+c;this.J.style.width=e;this.J.style.height=f;LJ(this.J,this.Aa,e,f);QLd(this);ritz_api.GridViewApi.renderOriginView(this.F,0,0);ritz_api.GridViewApi.renderHeaderView(this.F,
"ROWS",0,b,0,c,null,null);ritz_api.GridViewApi.renderHeaderView(this.F,"COLUMNS",0,a,d,0,null,null);ritz_api.GridViewApi.renderGridView(this.F,0,0,a,b,d,c,null,null);ZLd(this,!1);WLd(this);VLd(this.C,"Tutti gli utenti con accesso in visualizzazione possono vedere i risultati della query nella cartella di lavoro.");ULd(this,!0)};
function YLd(a,b){var c=0;a.L.D||(sJd(a,"Esecuzione della query in corso",100),c=1500);$i(function(){if(!a.isDisposed()){p2(a);$Ld(a);var c=od($Kd(b,a.ib));XLd(b)?qJd(a,c):rJd(a,c)}},c)}p.YNa=function(a){a=a.Hj();sJd(this,"Esecuzione della query in corso",U(a,5))};p.XNa=function(a){this.ma=!1;p2(this);aMd(this,a);this.gsa()};function bMd(a){var b="waffle-dataconnector-ssologin-"+ac(),c=XJd(b);qJd(a,c);(b=Ud(b))&&a.getHandler().R(b,"click",function(){return cMd(a)})}
function cMd(a){YKd(a.Gb,function(){NA.Zb(TLd(a))})}function $Ld(a){var b=RLd(a.C);if(b&&a.O&&!b.equals(a.O)){b=new Ep;var c="Questa anteprima \u00e8 obsoleta."+(b.Ce("br")+"Esegui nuovamente la query.");b=b.format(c);ZLd(a,!0);wd(a.$a("waffle-dataconnector-queryeditor-preview-overlay-text"),b);L(a.$a("waffle-dataconnector-queryeditor-preview-overlay-text"),!0)}else ZLd(a,!1)}p.gsa=function(){$Ld(this);WLd(this)};
function WLd(a){var b=RLd(a.C);if(a.ma||null==b)a.Ra.jb(!1),NA.jb(!1);else{NA.jb(!0);var c=!!a.O;b=!!a.O&&a.O.equals(b);var d=!!a.ib;a.Ra.jb(!c||b&&!d)}}function ZLd(a,b){Qh(a.$a("waffle-dataconnector-queryeditor-preview-pane"),"waffle-dataconnector-queryeditor-preview-inactive",b)}p.Soa=function(){this.ma=!0;p2(this);sJd(this,"Aggiornamento del registro in corso");WLd(this)};p.Qoa=function(a){this.ma=!1;p2(this);aMd(this,a);WLd(this)};
function aMd(a,b){b=b.Hj();10==b.getErrorCode()?bMd(a):qJd(a,RJd(2,b))}function TLd(a){var b=new S1;V(b,1,a.Mc);a=RLd(a.C);V(b,2,a);V(b,3,30);return b}function QLd(a){a.Aa.fillStyle="#f3f3f3";a.Aa.fillRect(0,0,a.J.width,a.J.height)}function ULd(a,b){b!=Ai(a.$a("waffle-dataconnector-queryeditor-preview-pane"))&&(b?a.mc.play():L(a.$a("waffle-dataconnector-queryeditor-preview-pane"),!1))}function XLd(a){return 1E4<U(a,3)||!!U(a,4)}function dMd(a){M.apply(this,arguments)}q(dMd,M);
function VLd(a,b){var c=I(H(),"docs-idu");c&&(b+=" ");var d=a.$a("waffle-dataconnector-queryeditor-sharing-message");ke(d);b=a.qa().Ma("SPAN",void 0,b);d.appendChild(b);c&&(a=a.qa().Ma("A",{href:"https://sites.google.com/corp/google.com/sheets-dataconnectors-help/sharing",target:"_blank"},"Ulteriori informazioni"),d.appendChild(a))}function SLd(a){Ms.call(this,[0],[1],350);this.F=a}q(SLd,Ms);
SLd.prototype.xS=function(){var a=this.F.$a("waffle-dataconnector-queryeditor-preview-pane");L(a,!0);wi(a,0)};SLd.prototype.Q_=function(){var a=this.ek,b=this.F.$a("waffle-dataconnector-queryeditor-preview-pane");wi(b,243*a);this.F.ld()};function eMd(){var a='<div class="'+Q("waffle-dataconnector-bigquery-query-settings-widget")+'"><div class="'+Q("waffle-dataconnector-bigquery-query-settings-widget-project-section")+'"><div class="'+Q("waffle-dataconnector-bigquery-query-settings-widget-project-section-header")+'">';return P(a+"Progetto di fatturazione</div></div></div>")};function fMd(a,b,c){b=c||b;a='<div class="'+Q("waffle-dataconnector-queryeditor-query-settings-header")+'">'+O(is({icon:hr("docs-icon-img docs-icon-settings")},b))+'<span class="'+Q("waffle-dataconnector-queryeditor-query-settings-title")+'">';return P(a+"Impostazioni delle query</span></div>")};function gMd(a,b){q2.call(this,N(fMd),b);this.F=a.C;this.H=a.D;this.C=new GT;zk(this.C,"Progetto di fatturazione");this.Xa(this.C)}q(gMd,q2);function hMd(a){a=a.C.Te();return null==a?null:a.getValue()}
gMd.prototype.Ma=function(){q2.prototype.Ma.call(this);this.setContent(N(eMd));var a=this.$a("waffle-dataconnector-bigquery-query-settings-widget-project-section");this.C.render(a);if(0==this.F.length){var b=this.qa();b.appendChild(a,b.Ma("DIV","waffle-dataconnector-bigquery-query-settings-widget-alert",N(IId),"Nessun progetto di fatturazione"));b.appendChild(a,b.Ma("DIV","waffle-dataconnector-bigquery-query-settings-widget-alert-description","Configura un progetto nella console di Google Cloud Platform per continuare"))}};
gMd.prototype.Za=function(){var a=this;q2.prototype.Za.call(this);this.getHandler().R(this.C,"change",function(b){b.stopPropagation();a.dispatchEvent("Ye")});iMd(this,this.F,this.H);this.Nd(!0);this.C.kp();this.Nd(!1)};function iMd(a,b,c){if(0==b.length)a.C.jb(!1),a.C.setVisible(!1);else{for(var d=null,e=0;e<b.length;e++){var f=b[e];a.C.zd(new Mk(f.getName(),f));null!=c&&f.getId()==c&&(d=e)}null!==d?a.C.Ve(d):Fr(a.C,null)}};function jMd(a,b){this.C=a;this.D=b}function kMd(a,b){var c=new S1;V(c,1,a.C);V(c,2,b);V(c,3,1);V(c,5,!0);return UId(a.D,c).then(aa(),function(a){return a instanceof T1?vf(a):wf(a)})};function lMd(a,b,c){b=c||b;a=P;c='<div class="'+Q("waffle-dataconnector-bigquery-query-validation-widget")+'"><div class="'+Q("waffle-dataconnector-bigquery-query-validation-widget-open-button")+'">'+O(NId())+'</div><div class="'+Q("waffle-dataconnector-bigquery-query-validation-widget-bar")+'">'+O(NId())+O(JId(null,b));var d=P('<svg class="waffle-dataconnector-valid-icon" width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path fill="#1E8E3E" fill-rule="evenodd" d="M10,0 C4.48,0 0,4.48 0,10 C0,15.52 4.48,20 10,20 C15.52,20 20,15.52 20,10 C20,4.48 15.52,0 10,0 Z M8,15 L3,10 L4.41,8.59 L8,12.17 L15.59,4.58 L17,6 L8,15 Z"></path></g></svg>');
return a(c+O(d)+'<div class="'+Q("waffle-dataconnector-bigquery-query-validation-widget-message")+'" aria-live="polite"></div><div class="'+Q("waffle-dataconnector-bigquery-query-validation-widget-close-button")+'">'+O(GId(null,b))+"</div></div></div>")};function mMd(a,b){M.call(this,b);this.J=a;this.H=-1;this.C=new cr(void 0,Ri(br,"waffle-dataconnector-bigquery-query-validation-widget-close-button"),this.qa());this.Xa(this.C);this.D=new cr(void 0,Ri(br,"waffle-dataconnector-bigquery-query-validation-widget-open-button"),this.qa());this.Xa(this.D);this.F=!1}q(mMd,M);mMd.prototype.Ma=function(){this.Jb(N(lMd));this.C.xb(this.$a("waffle-dataconnector-bigquery-query-validation-widget-close-button"));this.D.xb(this.$a("waffle-dataconnector-bigquery-query-validation-widget-open-button"))};
mMd.prototype.Za=function(){var a=this;M.prototype.Za.call(this);Qh(this.ob(),"waffle-dataconnector-bigquery-query-validation-widget-visible",this.F);zk(this.C,"Chiudi il widget di convalida della query");this.C.Pd("Chiudi il widget di convalida della query");zk(this.D,"Visualizza il widget di convalida della query");this.D.Pd("Visualizza il widget di convalida della query");this.getHandler().R(this.C,"action",function(){return a.setVisible(!1)}).R(this.D,"action",function(){return a.setVisible(!0)});
nMd(this)};mMd.prototype.setVisible=function(a){this.F=a;this.Ob()&&Qh(this.ob(),"waffle-dataconnector-bigquery-query-validation-widget-visible",this.F)};
function oMd(a,b){var c=Fa();a.H=c;null==b?nMd(a):kMd(a.J,b).then(function(b){if(c==a.H&&!a.isDisposed()){var d=b.Hj(),f=3!=d.getState();f?(b=U(U(b,5),1),b="Query valida. Verranno elaborati "+(yBc(parseInt(b,10))+".")):b=RJd(3,d);d=a.$a("waffle-dataconnector-bigquery-query-validation-widget-message");wd(d,od(b));b=a.$a("waffle-dataconnector-bigquery-query-validation-widget-bar");Qh(b,"waffle-dataconnector-bigquery-query-validation-widget-bar-valid",f);Qh(b,"waffle-dataconnector-bigquery-query-validation-widget-bar-invalid",
!f)}},ba())}function nMd(a){var b=a.$a("waffle-dataconnector-bigquery-query-validation-widget-message");wd(b,od("I messaggi di convalida della query sono visualizzati qui"));a=a.$a("waffle-dataconnector-bigquery-query-validation-widget-bar");Oh(a,"waffle-dataconnector-bigquery-query-validation-widget-bar-valid");Oh(a,"waffle-dataconnector-bigquery-query-validation-widget-bar-invalid")};function pMd(a,b,c){b=c||b;c=hr("Caricamento in corso");b='<div class="'+Q("waffle-dataconnector-dbschematreenode")+'" role="tree-item"><div id="'+Q(a.id)+'" class="'+Q("waffle-dataconnector-dbschematreenode-label")+(a.rc?" waffle-dataconnector-dbschematreenode-rtl":"")+'">'+O(XHc({Xb:!0,nm:c},b));c=P('<svg class="waffle-dataconnector-expand-icon" width="18px" height="18px" viewBox="0 0 18 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g><polygon id="Shape" points="0 0 18 0 18 18 0 18"></polygon><polygon id="Shape" fill-opacity="0.87" fill="#000000" points="5 7 9 11 13 7"></polygon></g></g></svg>');
a=b+O(c)+'<div class="'+Q("waffle-dataconnector-dbschematreenode-title")+'">'+O(a.title)+'</div></div><div class="'+Q("waffle-dataconnector-dbschematreenode-child-container")+'" role="group"></div></div>';return P(a)};function qMd(a){this.Dc=a}qMd.prototype.getType=g("Dc");function rMd(a){this.Dc="cloud-project";this.C=a}q(rMd,qMd);rMd.prototype.Tm=g("C");function sMd(a,b){this.Dc="bigquery-dataset";this.C=b;this.D=a}q(sMd,qMd);sMd.prototype.Tm=g("C");function tMd(a,b,c){this.Dc="bigquery-table";this.C=c;this.D=b;this.F=a}q(tMd,qMd);tMd.prototype.Tm=g("C");function uMd(a){this.Dc="jdbc-table";this.C=a}q(uMd,qMd);function vMd(){this.Dc="column"}q(vMd,qMd);function y2(a,b,c,d){c=void 0===c?!1:c;M.call(this,d);this.Gc(b);this.J=a;this.nextSibling=this.previousSibling=this.parentNode=null;this.H=(this.D=c)?2:0;this.F=this.C=!1}q(y2,M);p=y2.prototype;p.Ma=function(){this.Jb(N(pMd,{title:this.J,id:this.getId()}))};p.Nb=function(){return this.Fb("waffle-dataconnector-dbschematreenode-child-container")};
p.Za=function(){M.prototype.Za.call(this);var a=this.$a("waffle-dataconnector-dbschematreenode-label"),b=this.$a("waffle-dataconnector-dbschematreenode-title");Qh(this.ob(),"waffle-dataconnector-dbschematreenode-rtl",this.we());fka(this.qa());rj(b,this.J,void 0);wMd(this,!1);Qh(this.ob(),"waffle-dataconnector-dbschematreenode-leaf",this.D);this.getHandler().R(a,"click",this.jKb)};p.getTitle=g("J");p.jKb=function(){this.Nd(!this.C);this.xc(!0)};
p.Nd=function(a){if(!this.D&&a!=this.C){var b=Ki(64,a);this.dispatchEvent(b)&&wMd(this,a)}};function xMd(a){var b=a.ad();if(!a.C||0==b)return a;a=a.Xc(b-1);return xMd(a)}function yMd(a,b){b=void 0===b?!1:b;var c=a.Xc(0);return!b&&a.C&&c?c:a.nextSibling?a.nextSibling:a.parentNode?yMd(a.parentNode,!0):null}function wMd(a,b){a.D||(a.C=b,a.Ob()&&(Qh(a.ob(),"waffle-dataconnector-dbschematreenode-open",a.C),a.$a("waffle-dataconnector-dbschematreenode-label").setAttribute("aria-expanded",a.C)))}
p.xc=function(a){if(a!=this.F){var b=Ki(8,a);this.dispatchEvent(b)&&(this.F=a,this.Ob()&&Qh(this.ob(),"waffle-dataconnector-dbschematreenode-selected",this.F))}};function zMd(a,b){a.H=b;b=1==a.H;a.Ob()&&Qh(a.ob(),"waffle-dataconnector-dbschematreenode-loading",b)}p.ev=g("H");p.Gc=function(a){M.prototype.Gc.call(this,a)};p.sb=function(){return M.prototype.sb.call(this)};p.qd=function(a){return M.prototype.qd.call(this,a)};p.Xc=function(a){return M.prototype.Xc.call(this,a)};
p.Xa=function(a,b){if(this.D)throw Error("Can't add child to leaf node");M.prototype.Xa.call(this,a,b)};function AMd(a){a.parentNode=null;var b=a.previousSibling,c=a.nextSibling;a.previousSibling=null;a.nextSibling=null;b&&(b.nextSibling=c);c&&(c.previousSibling=b)}p.Xf=function(a,b,c){if(this.D)throw Error("Can't add child to leaf node");var d=this.Xc(b-1),e=this.Xc(b);a.parentNode=this;a.nextSibling=e;if(a.previousSibling=d)d.nextSibling=a;e&&(e.previousSibling=a);M.prototype.Xf.call(this,a,b,c)};
p.removeChild=function(a,b){AMd(a);return M.prototype.removeChild.call(this,a,b)};p.Dd=function(){return M.prototype.Dd.call(this,!0)};p.Nn=function(a){return M.prototype.Nn.call(this,a,!0)};function BMd(a){M.call(this,a);this.C=new CMd(this.qa());this.Xa(this.C,!0);this.D=null;this.getHandler().R(this.C,"open",this.Hvb).R(this.C,"select",this.Ivb)}q(BMd,M);p=BMd.prototype;p.Ma=function(){this.Jb(this.qa().Ma("DIV","waffle-dataconnector-schema-menu"))};p.Za=function(){M.prototype.Za.call(this);this.getHandler().R(this.C.ob(),"keydown",this.Ysb).R(this.C.ob(),"focus",this.PDb)};p.Hvb=function(a){var b=a.target;2!=b.ev()&&a.preventDefault();0==b.ev()&&DMd(this,b).then(function(a){a.Nd(!0)})};
p.Ivb=function(a){a=a.target;this.D&&this.D.xc(!1);this.D=a;this.C.ob().setAttribute("aria-activedescendant",a.getId())};function DMd(a,b){a=a.H(b).then(function(a){return EMd(b,a)},function(){return zMd(b,0)});zMd(b,1);return a}function FMd(a){var b=[];a.C.nf(function(a){b.push(a)});return b}function EMd(a,b){if(a.isDisposed())return Db(b),wf();b.forEach(function(b){a.Xa(b,!0)});zMd(a,2);return vf(a)}
p.Ysb=function(a){switch(a.keyCode){case 36:GMd(this);break;case 35:(a=this.C.Xc(this.C.ad()-1))&&xMd(a).xc(!0);break;case 13:a=this.D;a.Nd(!a.C);break;case 37:a=this.D;a.C?a.Nd(!1):(a=a.parentNode)&&a.xc(!0);break;case 39:HMd(this);break;case 38:a=this.D;(a=a.previousSibling?xMd(a.previousSibling):a.parentNode)&&a.xc(!0);break;case 40:(a=yMd(this.D))&&a.xc(!0)}};function GMd(a){(a=a.C.Xc(0))&&a.xc(!0)}
function HMd(a){function b(a){a.Nd(!0);(a=a.Xc(0))&&a.xc(!0)}var c=a.D;switch(c.ev()){case 2:b(c);break;case 0:DMd(a,c).then(function(a){b(a)})}}p.PDb=function(){this.D||GMd(this)};function CMd(a){M.apply(this,arguments)}q(CMd,M);p=CMd.prototype;p.Ma=function(){var a=this.qa().Ma("DIV",{"class":"waffle-dataconnector-schema-menu-tree-container",tabIndex:0});Eh(a,"tree");this.Jb(a)};p.qd=function(a){return M.prototype.qd.call(this,a)};p.Xc=function(a){return M.prototype.Xc.call(this,a)};
p.Xf=function(a,b,c){var d=this.Xc(b-1),e=this.Xc(b);a.parentNode=null;a.nextSibling=e;if(a.previousSibling=d)d.nextSibling=a;e&&(e.previousSibling=a);M.prototype.Xf.call(this,a,b,c)};p.removeChild=function(a,b){AMd(a);return M.prototype.removeChild.call(this,a,b)};function IMd(a,b){BMd.call(this,b);this.F=a}q(IMd,BMd);function JMd(a,b){var c=!0;c=void 0===c?!1:c;var d=b.getId();a:{var e=FMd(a);e=ha(e);for(var f=e.next();!f.done;f=e.next())if(f.value.sb().Tm()==d){e=!0;break a}e=!1}e||(b=b.getName(),d=new y2(b,new rMd(d)),a.C.Xa(d,!0),c&&d.Nd(!0))}IMd.prototype.H=function(a){a=a.sb();switch(a.getType()){case "cloud-project":return KMd(this,a);case "bigquery-dataset":return LMd(this,a);case "bigquery-table":return MMd(this,a);default:return a.getType(),wf()}};
function KMd(a,b){var c=b.Tm();return fJd(a.F,c).then(function(a){return NMd(a,c)})}function LMd(a,b){var c=b.D,d=b.Tm();return dJd(a.F,d,c).then(function(a){return OMd(a,d,c)})}function MMd(a,b){var c=new Z1;c.Fe(b.F);V(c,2,b.D);kId(c,b.Tm());return eJd(a.F,c).then(function(a){return PMd(a)})}function NMd(a,b){return a.map(function(a){return new y2(a,new sMd(a,b))})}function OMd(a,b,c){return a.map(function(a){a=a.getName();return new y2(a,new tMd(a,c,b))})}
function PMd(a){return a.map(function(a){return new y2(a,new vMd(a),!0)})};function QMd(a){var b=P,c='<div class="'+Q("waffle-dataconnector-queryeditor-schemamenuwidget-header")+'">';var d=P('<svg class="waffle-dataconnector-database-icon" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><g fill="#000" fill-rule="evenodd"><ellipse cx="9" cy="5" rx="7" ry="3"/><path d="M16,7 L16,8.99999983 C16,10.6568542 12.8659932,12 9,12 C5.13400675, 12 2,10.6568542 2,9 L2,7 C2,8.65685425 5.13400675,10 9,10 C12.8659932,10 16,8.65685425 16,7 Z"/><path d="M16,11 L16,12.9999998 C16,14.6568542 12.8659932,16 9,16 C5.13400675,16 2,14.6568542 2,13 L2,11 C2,12.6568542 5.13400675,14 9,14 C12.8659932,14 16,12.6568542 16,11 Z"/></g></svg>');
return b(c+O(d)+"<div>"+O(a.title)+"</div></div>")};function RMd(a,b){q2.call(this,N(QMd,{title:"Schema"}),b);this.C=a;this.Xa(this.C,!0)}q(RMd,q2);function SMd(a,b,c,d,e,f,h,k,l,m){w2.call(this,b,c,d,e,f,l,m);var r=this;LHd(this,this.qa().Ma("SPAN",void 0,N(KId),"Editor query BigQuery"));this.O=new gMd(a,this.qa());this.L.Xf(this.O,0,!0);this.Bb=new IMd(h,this.qa());this.Mb=new RMd(this.Bb);this.L.Xa(this.Mb,!0);this.Ib=new mMd(k,this.qa());this.Xa(this.Ib);this.od=new cj(function(){oMd(r.Ib,dLd(r))},600,this)}q(SMd,w2);p=SMd.prototype;
p.Za=function(){w2.prototype.Za.call(this);this.Ib.render(this.$a("waffle-dataconnector-newqueryeditor-editor-pane"));this.getHandler().R(this.O,"Ye",this.lyb);this.Mb.Nd(!0);var a=hMd(this.O);a&&JMd(this.Bb,a)};p.xja=function(){var a=dKd(this.D),b=hMd(this.O);if(!a||!b)return null;b=new I1;var c=hMd(this.O).getId();V(b,1,a);V(b,2,c);a=new L1;V(a,4,b);return a};
p.Bna=function(a){if(a){var b=U(a,4);eKd(this.D,U(b,1));a:{a=this.O;b=b.Tm();for(var c=a.C.Yh(),d=0;d<c;d++)if(a.C.Ye(d).getValue().getId()==b){a.C.Ve(d);break a}}}else eKd(this.D,"");this.D.jb(!0)};p.K_=function(){w2.prototype.K_.call(this);this.od.start()};p.J_=n(3);p.lyb=function(){var a=hMd(this.O);a&&JMd(this.Bb,a)};function TMd(a){var b='<div class="'+Q("waffle-dataconnector-jdbc-query-settings-widget")+'"><div class="'+Q("waffle-dataconnector-jdbc-query-settings-widget-connection-name-section")+'"><div class="'+Q("waffle-dataconnector-jdbc-query-settings-widget-connection-name-label")+'">';b=b+"Nome collegamento:"+('</div><div class="'+Q("waffle-dataconnector-jdbc-query-settings-widget-connection-name")+'">'+O(a.PO)+"</div></div></div>");return P(b)};function UMd(a,b){q2.call(this,N(fMd),b);this.C=a}q(UMd,q2);UMd.prototype.Ma=function(){q2.prototype.Ma.call(this);this.setContent(N(TMd,{PO:this.C}))};function VMd(a,b){this.C=a;this.D=b}function WMd(a){var b=new X1;V(b,1,a.C);return YId(a.D,b).then(function(a){return iv(a,4)})}function XMd(a,b){var c=new c2;V(c,1,a.C);V(c,2,b);return ZId(a.D,c).then(function(a){return iv(a,4)})};function YMd(a,b){BMd.call(this,b);this.F=a}q(YMd,BMd);function ZMd(a){WMd(a.F).then(function(b){b.forEach(function(b){b=b.getName();b=new y2(b,new uMd(b));a.C.Xa(b,!0)})},ba())}YMd.prototype.H=function(a){a=a.sb();switch(a.getType()){case "jdbc-table":return $Md(this,a);default:return a.getType(),wf()}};function $Md(a,b){var c=new Z1;c.Fe(b.C);return XMd(a.F,c).then(function(a){return aNd(a)})}function aNd(a){return a.map(function(a){return new y2(a,new vMd(a),!0)})};function z2(a,b,c,d,e,f,h,k,l){w2.call(this,a,c,d,e,f,k,l);LHd(this,"Editor query JDBC");this.Ib=new UMd(b);this.L.Xf(this.Ib,0,!0);this.O=new YMd(h,this.qa());ZMd(this.O);this.Bb=new RMd(this.O,this.qa());this.L.Xa(this.Bb,!0)}q(z2,w2);z2.prototype.Za=function(){w2.prototype.Za.call(this);this.Bb.Nd(!0)};z2.prototype.xja=function(){var a=dKd(this.D);if(!a)return null;var b=new L1;V(b,1,a);return b};z2.prototype.Bna=function(a){a=a?U(a,1):"";eKd(this.D,a);this.D.jb(!0)};z2.prototype.J_=n(1);function bNd(){var a='<div class="'+Q("waffle-dataconnector-plx-query-settings-widget")+'"><div class="'+Q("waffle-dataconnector-plx-query-settings-widget-engine-section")+'"></div><div class="'+Q("waffle-dataconnector-plx-query-settings-widget-script-section")+'"><div class="'+Q("waffle-dataconnector-plx-query-settings-widget-script-label")+'">';a=a+"Script esterno"+('</div><div class="'+Q("waffle-dataconnector-plx-query-settings-widget-script-chip-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-plx-query-settings-widget-script-button-wrapper")+
'"></div></div></div>');return P(a)};function cNd(a){q2.call(this,N(fMd),a);this.H="";this.F=new u2(this.H);this.Xa(this.F);this.F.C.Pd("Fai clic per aprire l'editor di script Plx");this.F.D.Pd("Scollega questo script Plx");this.J=new RR("Aggiungi script esistente");this.Xa(this.J);this.J.Gd("waffle-dataconnector-plx-query-settings-widget-link-script-button");this.C=new ZT;this.C.setContent("Engine");a=ha(qc(dNd));for(var b=a.next();!b.done;b=a.next())b=b.value,this.C.zd(new Mk(b.caption,b.value));this.C.Ve(0);this.Xa(this.C);this.O=
new eo;this.xa(this.O)}q(cNd,q2);cNd.prototype.Ma=function(){q2.prototype.Ma.call(this);this.setContent(N(bNd));this.C.render(this.$a("waffle-dataconnector-plx-query-settings-widget-engine-section"));this.F.render(this.$a("waffle-dataconnector-plx-query-settings-widget-script-section"));this.J.render(this.$a("waffle-dataconnector-plx-query-settings-widget-script-button-wrapper"))};
cNd.prototype.Za=function(){var a=this;q2.prototype.Za.call(this);this.getHandler().R(this.J,"action",function(b){b.stopPropagation();a.dispatchEvent("Ze")}).R(this.F,"Qe",function(b){b.stopPropagation();a.dispatchEvent("af")}).R(this.F,"Pe",function(b){b.stopPropagation();Gp(DHd(a.H),{target:"_blank"})}).R(this.C,"change",function(b){b.stopPropagation();a.dispatchEvent("bf")});this.Nd(!0);this.C.kp();this.Nd(!1);eNd(this)};
function eNd(a){var b=!!a.H;b&&a.F.setContent(a.H);a.F.setVisible(b);a.J.setVisible(!b);a.J.jb(!b);a.C.jb(!b)}var fNd=Object.freeze({caption:"Dremel",value:"DREMEL"}),gNd=Object.freeze({caption:"F1",value:"F1"}),hNd=Object.freeze({caption:"Procella",value:"PROCELLA"}),dNd={dXa:fNd,uXa:gNd,g_a:hNd};function iNd(a,b,c){n2.call(this,b,c);this.F=a?new IHc:new AT;this.Xa(this.F);this.F.Gd("waffle-dataconnector-simple-text-input-prompt-text-field");a&&this.F.setContent(a);this.C.Gd("waffle-dataconnector-simple-text-input-prompt-add-button")}q(iNd,n2);iNd.prototype.Ma=function(){n2.prototype.Ma.call(this);var a=this.qa().Ma("DIV","waffle-dataconnector-simple-text-input-prompt-text-field-wrapper");je(this.Nb(),a);this.F.render(a)};iNd.prototype.mb=function(a){this.F.mb(a)};
iNd.prototype.Za=function(){var a=this;n2.prototype.Za.call(this);this.getHandler().R(this.C,"action",function(){var b=a.F.getValue();""!=b&&a.resolve(b)})};function jNd(a,b,c,d,e,f,h){w2.call(this,a,b,c,d,e,f,h);LHd(this,this.qa().Ma("SPAN",void 0,N(LId),"Editor query Plx"));this.O=new cNd(this.qa());this.L.Xf(this.O,0,!0)}q(jNd,w2);p=jNd.prototype;p.Za=function(){w2.prototype.Za.call(this);this.getHandler().R(this.O,"Ze",this.PNb).R(this.O,"af",this.mKb)};p.xja=function(){var a=dKd(this.D),b=this.O.H;if(!a&&!b)return null;var c=new L1,d=new H1;b?V(d,3,b):(V(d,1,a),a=this.O.C.Te().getValue(),V(d,2,a));V(c,2,d);return c};
p.Bna=function(a){this.D.jb(!0);if(a){var b=U(a,2);a=U(b,1);var c=U(b,2);b=U(b,3);if(c)try{a:{for(var d=this.O,e=d.C.Yh(),f=0;f<e;f++)if(d.C.Ye(f).getValue()==c){d.C.Ve(f);break a}throw Error("Unrecognized engine type");}}catch(h){}b&&kNd(this,b);a&&eKd(this.D,a)}else eKd(this.D,"")};p.J_=n(2);
p.PNb=function(){var a=this,b=this.O.H,c=new iNd("ID script");rq(c,"Aggiungi script esistente");c.C.setContent("Aggiungi");c.mb(b);this.xa(c);c.setVisible(!0);zf(c.getResult(),function(){return C(c)}).then(function(b){return kNd(a,b)},ba())};
function kNd(a,b){if(!a.isDisposed()){var c=a.O;c.H=b||"";eNd(c);c=a.D;if(b){c.jb(!1);var d=new Ep;var e=d.Ce("a",{href:DHd(b),target:"_blank"});e=e+"Modifica lo script esistente visualizzandolo in Plx"+d.Je("a");d=d.format(e);wd(c.$a("waffle-dataconnector-textarea-editor-overlay-message"),d);c.jb(!1);bKd(c,!0)}else c.jb(!0),bKd(c,!1);cA(b?"Script aggiunto":"Script rimosso");a.K_()}}p.mKb=function(){kNd(this,null)};function lNd(){}q(lNd,br);lNd.prototype.Ma=function(a){a=a.qa().Ma("DIV","waffle-dataconnector-close-badge");$q(a,GId);return a};lNd.prototype.hc=n("waffle-dataconnector-close-badge");ta(lNd);function mNd(){cr.call(this,void 0,lNd.getInstance())}q(mNd,cr);function nNd(){return P('<div class="'+Q("waffle-dataconnector-linked-script-chip")+'"><div class="'+Q("waffle-dataconnector-linked-script-chip-content")+'" tabindex="0"></div><div class="'+Q("waffle-dataconnector-linked-script-chip-close-badge-wrapper")+'"></div></div>')};function oNd(a,b){M.call(this,b);this.D=a;this.C=new mNd;zk(this.C,"Rimuovi script");this.Xa(this.C)}q(oNd,M);oNd.prototype.Ma=function(){this.Jb(N(nNd));var a=this.$a("waffle-dataconnector-linked-script-chip-content");var b=this.D;b=this.qa().Ma("A",{href:DHd(b),target:"_blank"},b);a.appendChild(b)};
oNd.prototype.Za=function(){var a=this;M.prototype.Za.call(this);this.C.render(this.$a("waffle-dataconnector-linked-script-chip-close-badge-wrapper"));var b="Script plx collegato: "+this.D;Jh(this.$a("waffle-dataconnector-linked-script-chip-content"),b);this.getHandler().R(this.C,"action",function(){return a.dispatchEvent("cf")})};function pNd(){var a=P,b='<div class="'+Q("waffle-dataconnector-plxqueryeditormodule")+'"><div class="'+Q("waffle-dataconnector-plxqueryeditormodule-sidebar")+'"><div class="'+Q("waffle-dataconnector-plxqueryeditormodule-sidebar-header")+'">Plx</div><div class="'+Q("waffle-dataconnector-plxqueryeditormodule-link-script-button-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-plxqueryeditormodule-script-chip-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-plxqueryeditormodule-engine-select-wrapper")+
'"></div></div><div class="'+Q("waffle-dataconnector-plxqueryeditormodule-main")+'"><div class="'+Q("waffle-dataconnector-plxqueryeditormodule-editor-wrapper")+'"></div>';var c=P('<div class="'+Q("waffle-dataconnector-queryeditor-sharing-message-container")+'"><div class="'+Q("waffle-dataconnector-queryeditor-sharing-message")+'"></div></div>');return a(b+O(c)+"</div></div>")};function qNd(){var a='<div class="'+Q("waffle-dataconnector-sqleditor")+'"><div class="'+Q("waffle-dataconnector-sqleditor-textareawrapper")+'"><div class="'+Q("waffle-dataconnector-sqleditor-overlay")+'"><div class="'+Q("waffle-dataconnector-sqleditor-overlay-message")+'"></div></div><textarea class="'+Q("waffle-dataconnector-sqleditor-textarea")+'" spellcheck="false" aria-label="';a+=lr("Inserisci la query");a+='"></textarea><div class="'+Q("waffle-dataconnector-sqleditor-linegutter")+'"></div></div></div>';
return P(a)};function rNd(a,b){a=void 0===a?"":a;M.call(this,b);this.Ud=!0;this.D=!1;this.J=a;this.F=this.C=null;this.H=new HT;this.Xa(this.H)}q(rNd,M);rNd.prototype.Ma=function(){this.Jb(N(qNd))};
rNd.prototype.Za=function(){var a=this;M.prototype.Za.call(this);this.C=this.$a("waffle-dataconnector-sqleditor-textarea");this.C.value=this.J;this.F=new ds(this.C);this.xa(this.F);this.F.Od(this);this.getHandler().R(this.C,"focus",function(){return sNd(a,!0)}).R(this.C,"blur",function(){return sNd(a,!1)});this.H.render(this.$a("waffle-dataconnector-sqleditor-textareawrapper"));tNd(this);uNd(this,!1)};
function tNd(a){a.C.disabled=!a.Ud||a.D;Qh(a.ob(),"waffle-dataconnector-sqleditor-disabled",!a.Ud||a.D);IT(a.H,a.D)}rNd.prototype.jb=function(a){this.D||a==this.Ud||(this.Ud=a,this.Ob()&&tNd(this))};rNd.prototype.isEnabled=g("Ud");function vNd(a){a.D=!0;a.Ob()&&tNd(a)}function uNd(a,b){L(a.$a("waffle-dataconnector-sqleditor-overlay"),b)}function sNd(a,b){Qh(a.ob(),"waffle-dataconnector-sqleditor-focused",b)};function wNd(a,b,c){dMd.call(this,c);var d=this;this.H=this.J=null;this.F=new RR("Aggiungi script esistente");this.Xa(this.F);this.D=new ZT;this.D.setContent("Engine");xNd(this);this.D.Ve(0);this.Xa(this.D);this.C=new rNd(void 0,this.qa());this.Xa(this.C);this.L=new RR;this.L.Gd("waffle-dataconnector-plxqueryeditormodule-preview-button");this.Xa(this.L);this.O=new cj(function(){yNd(d,null)});this.xa(this.O);b&&(this.F.jb(!1),vNd(this.C),zf(b.then(function(a){var b=U(a,2),c=U(b,1);a=U(b,3);b=U(b,2);
var e=d.C;c=c||"";e.isDisposed()||(e.D=!1,e.Ob()?(e.C.value=c,tNd(e)):e.J=c);yNd(d,a);b&&d.D.mb(b);d.F.jb(!0)},ba()),function(){d.dispatchEvent("Xe")}))}q(wNd,dMd);wNd.prototype.Ma=function(){this.Jb(N(pNd))};
wNd.prototype.Za=function(){var a=this;dMd.prototype.Za.call(this);this.C.render(this.$a("waffle-dataconnector-plxqueryeditormodule-editor-wrapper"));this.L.render(this.$a("waffle-dataconnector-queryeditor-sharing-message-container"));this.F.render(this.$a("waffle-dataconnector-plxqueryeditormodule-link-script-button-wrapper"));this.D.render(this.$a("waffle-dataconnector-plxqueryeditormodule-engine-select-wrapper"));this.getHandler().R(this.C,"input",function(){a.dispatchEvent("Xe")}).R(this.F,"action",
function(){return zNd(a)}).R(this,"cf",function(){a.O.start()}).R(this.D,"aftershow",function(a){return a.stopPropagation()})};function RLd(a){var b=a.C.C.value;if(!b&&!a.J)return null;var c=new L1,d=new H1;a.J?V(d,3,a.J):(V(d,1,b),a=a.D.Te().getValue(),V(d,2,a));V(c,2,d);return c}function xNd(a){for(var b=ha(qc(ANd)),c=b.next();!c.done;c=b.next())c=c.value,a.D.zd(new Mk(c.caption,c.value))}
function zNd(a){var b=new iNd("ID script");rq(b,"Aggiungi script esistente");b.C.setContent("Aggiungi");a.xa(b);b.setVisible(!0);zf(zf(b.getResult(),function(){return C(b)}).then(function(b){return yNd(a,b)},ba()),function(){(null!=a.J?a.H.ob():a.D.ob()).focus()})}
function yNd(a,b){if(!a.isDisposed()){a.J=b;var c=!!b;a.C.jb(!c);a.D.jb(!c);a.F.setVisible(!c);a.F.jb(!c);C(a.H);a.H=null;if(b){a.H=new oNd(b);a.Xa(a.H);a.H.render(a.$a("waffle-dataconnector-plxqueryeditormodule-script-chip-wrapper"));c=new Ep;var d=c.Ce("a",{href:DHd(b),target:"_blank"});d=d+"Modifica lo script esistente visualizzandolo in Plx"+c.Je("a");c=c.format(d);a.C.jb(!1);d=a.C;wd(d.$a("waffle-dataconnector-sqleditor-overlay-message"),c);uNd(d,!0)}else a.C.jb(!0),uNd(a.C,!1);cA(b?"Script aggiunto":
"Script rimosso");a.dispatchEvent("Xe")}}var BNd=Object.freeze({caption:"Dremel",value:"DREMEL"}),CNd=Object.freeze({caption:"F1",value:"F1"}),DNd=Object.freeze({caption:"Procella",value:"PROCELLA"}),ANd={dXa:BNd,uXa:CNd,g_a:DNd};function ENd(a,b,c){this.C=a;this.D=b;this.Cb=new Sd;this.F=c}function FNd(a,b,c){return new z2(b,c,LA,function(a){return GNd(b,a)},new v2(a.C,a.Cb),a.F,new VMd(b,a.D),void 0,a.Cb)}function HNd(a,b,c,d,e,f){a=new z2(b,c,MA,function(a){return INd(d,a)},new v2(a.C,a.Cb),a.F,new VMd(b,a.D),void 0,a.Cb);aLd(a,e,f);return a}
function JNd(a,b){if(I(H(),"fenqeu"))return new jNd(b,LA,function(a){return GNd(b,a)},new v2(a.C,a.Cb),a.F,void 0,a.Cb);var c=new wNd(b,void 0,a.Cb);return new PLd(b,c,LA,function(a){return GNd(b,a)},a.C,void 0,a.Cb)}function KNd(a,b,c,d,e){if(I(H(),"fenqeu"))return a=new jNd(b,MA,function(a){return INd(c,a)},new v2(a.C,a.Cb),a.F,void 0,a.Cb),aLd(a,d,e),a;d=new wNd(b,d,a.Cb);return new PLd(b,d,MA,function(a){return INd(c,a)},a.C,void 0,a.Cb)}
function LNd(a,b,c){return new SMd(c,b,LA,function(a){return GNd(b,a)},new v2(a.C,a.Cb),a.F,new cJd(a.D,b),new jMd(b,a.D),void 0,a.Cb)}function MNd(a,b,c,d,e,f){a=new SMd(c,b,MA,function(a){return INd(d,a)},new v2(a.C,a.Cb),a.F,new cJd(a.D,b),new jMd(b,a.D),void 0,a.Cb);aLd(a,e,f);return a}function GNd(a,b){var c=new Q1;V(c,1,a);V(c,2,b);return c}function INd(a,b){var c=new $1;V(c,1,a);V(c,2,b);return c};function NNd(a,b,c,d){var e="Errore nella query su "+c;c=new hJd;c.Gd("waffle-dataconnector-error-popup");rq(c,e);c.C.setContent("Apri editor query");c.J.setContent("OK");a=10==a.getErrorCode()?XJd(d):RJd(b,a);sq(c,a);return c};function ONd(a,b,c,d,e,f,h,k){A.call(this);this.H=new FJd;this.xa(this.H);this.L=a.Ib;this.D=QId.getInstance();this.Wa=new MLd(this.D);this.F=b;this.V=f;this.J=new ENd(h,this.D,this.V);this.C=null;this.ma=new E;this.xa(this.ma);(this.O=I(H(),"fedcpw")?null:new LJd(this.H,a,b,e))&&this.xa(this.O);(this.$=I(H(),"fedcpw")?new ELd(b,c,d,a,this.H):null)&&this.xa(this.$);this.cb=new Th(this);this.xa(this.cb);this.Aa=new Ye(this);this.xa(this.Aa);this.Ra=new XKd;this.xa(this.Ra);PNd(this,k);this.cb.R(this.ma,
["show","hide"],this.Pnb);this.Aa.subscribe(L7a,"action",this.Ifa).subscribe(NA,"action",this.Xxb).subscribe(LA,"action",this.Umb).subscribe(T7a,"action",this.dzb).subscribe(N7a,"action",this.Woa).subscribe(MA,"action",this.fpb).subscribe(S7a,"action",this.iyb).subscribe(OA,"action",this.Gmb).subscribe(R7a,"action",this.mwb).subscribe(U7a,"action",this.Woa).subscribe(K7a,"action",this.jwb);QNd(this)}q(ONd,A);
function PNd(a,b){var c=Bjc(),d=new ft(Cjc.concat(["waffle-dataconnector-connection-selected"])),e=Cjc.concat(["waffle-dataconnector-active-sheet-db-connection","sheet-access-no-protected-range-for-sheet"]);c||e.push("waffle-dataconnector-active-sheet-not-plx");c=new ft(e);b.C(LA,NP).D(LA,NP).C(MA,NP).D(MA,NP).C(S7a,NP).D(S7a,NP).C(L7a,NP).C(T7a,c).C(N7a,c).C(NA,NP).C(OA,d).C(R7a,c).C(U7a,c);b.C(O7a,c);a.Aa.Tb(O7a,Oa,function(){QNd(a)})}p=ONd.prototype;p.Gf=function(a){this.D.Gf(a)};
function A2(a,b){C(a.C);a.C=b;a.C.Od(a.ma);b instanceof qq?a.V.Dh(a.C):a.V.Dh(new nnb(a.C));a.C.render();a.C.setVisible(!0)}p.Ifa=function(){C(this.C);this.C=null};function QNd(a){a.O&&a.O.refresh();a.$&&a.$.refresh()}p.Pnb=function(){this.C&&this.C.isVisible()||(NA.mb(null),OA.mb(null))};
p.ONb=function(){var a=new BJd;this.xa(a);A2(this,a);XId(this.D).then(function(b){var c=[];iv(b,1).forEach(function(a){c.push(xJd((new wJd).vf(a.getId()).Fe(a.getName()).setType(U(a,3))).build())});a.isDisposed()||(DJd(a,c),CJd(a,!1))})};p.f5a=function(){var a=this,b=RNd("Collegamento a Plx...");SNd(this,"Plx",2).then(function(c){c=new tJd(c,2);a.xa(c);A2(a,c);xp(wp.getInstance(),b)},function(){TNd("Impossibile connettersi a Plx");xp(wp.getInstance(),b)})};
p.e5a=function(){var a=this,b=new MHd;this.xa(b);A2(this,b);b.getResult().then(function(c){C(b);c&&UNd(a)},function(){C(b)})};function UNd(a){var b=RNd("Collegamento a BigQuery in corso..."),c;SNd(a,"BigQuery",3).then(function(b){c=b;return gJd(new cJd(a.D,b))}).then(function(d){xp(wp.getInstance(),b);VNd(a,c,d)},function(){xp(wp.getInstance(),b);TNd("Impossibile collegarsi a BigQuery")})}
function VNd(a,b,c){c=new DId(c);var d=new OId(c);a.xa(d);A2(a,d);d.getResult().then(function(c){c=LNd(a.J,b,c);a.xa(c);A2(a,c)},function(){C(d)})}function RNd(a){return wp.getInstance().postMessage(yp(a,"info",!0))}function TNd(a){wp.getInstance().postMessage(yp(a,"error",!0))}function SNd(a,b,c){var d=new M1;d.Fe(b);V(d,2,c);return RId(a.D,d).then(function(a){return U(a,2)})}
function WNd(a,b){var c=RNd("Importing connection..."),d=new N1;d.vf(b);d.setType(1);return TId(a.D,d).then(function(){xp(wp.getInstance(),c)},function(){xp(wp.getInstance(),c)})}p.iyb=function(){var a=this.C,b=a.F;switch(a.C){case 2:XNd(this,b);break;case 1:YNd(this,b)}};function YNd(a,b){var c=wpb(a.L,b).getName();b=FNd(a.J,b,c);a.xa(b);A2(a,b)}function XNd(a,b){b=JNd(a.J,b);a.xa(b);A2(a,b)}
p.Gmb=function(){var a=this,b=OA.getValue(),c=b.getId(),d=b.getType();switch(d){case 2:XNd(this,c);break;case 1:wpb(this.L,b.getId())?YNd(this,c):WNd(this,c).then(function(){YNd(a,c)},ba());break;default:throw Error("Unsupported connection type: "+d);}};p.Xxb=function(a){var b=this.C;b.cOa();var c=U(a,2);JLd(KLd(ILd(NLd(this.Wa,a),function(a){b.isDisposed()||b.ZNa(a,c)}),function(a){b.isDisposed()||b.YNa(a)}),function(a){b.isDisposed()||b.XNa(a)}).start()};
p.Umb=function(a){var b=this,c=this.C;SId(this.D,a).then(function(a){ZNd(b,a)},function(a){c.isDisposed()||c.Qoa(a)});c.Soa()};function ZNd(a,b){GJd(a.H,U(b,2),b.Hj());var c=b.Hb();a.Ifa();oA(a.F.C,c)?mA(a.F.C)==c?QNd(a):fG(a.F,c):a.cb.Sc(a.F,["Bb","qb"],function(b){"Bb"==b.type&&b.Ah==c&&fG(a.F,c)})}p.dzb=function(){$Nd(this,cI(this.F.C))};
function $Nd(a,b){var c=oA(a.F.C,b).F,d=new V1;V(d,1,b.toString());VId(a.D,d).then(function(b){var d=U(c,1);b=b.Hj();a.H.C[d]=b;QNd(a)},function(c){c=c.Hj();c.getErrorCode();QNd(a);aOd(a,b,c)})}
function aOd(a,b,c){var d=oA(a.F.C,b),e=d&&d.F;if(e){d=d.le();e=bOd(a,e);var f="waffle-dataconnector-ssologin-"+ac(),h=NNd(c,e,d,f);a.xa(h);a.V.Dh(h);h.render();h.setVisible(!0);h.getResult().then(function(){C(h);a.Woa(b)},function(){C(h)});(c=Ud(f))&&n2.prototype.getHandler.call(h).R(c,"click",function(){cOd(a,b,h)})}}function cOd(a,b,c){YKd(a.Ra,function(){C(c);$Nd(a,b)})}
p.Woa=function(a){if((a=void 0!==a?oA(this.F.C,a):this.F.C.C)&&null!=a.F){var b=a.F;a=U(b,2);b=U(b,1);switch(U(wpb(this.L,a),3)){case 2:a=KNd(this.J,a,b,dOd(this,b),eOd(this,b));this.xa(a);A2(this,a);break;case 1:var c=wpb(this.L,a).getName();a=HNd(this.J,a,c,b,dOd(this,b),eOd(this,b));this.xa(a);A2(this,a);break;case 3:fOd(this,a,b)}}};
function fOd(a,b,c){var d=RNd("Collegamento a BigQuery in corso...");gJd(new cJd(a.D,b)).then(function(e){xp(wp.getInstance(),d);e=MNd(a.J,b,new DId(e),c,dOd(a,c),eOd(a,c));a.xa(e);A2(a,e)},function(){xp(wp.getInstance(),d);TNd("Impossibile collegarsi a BigQuery")})}function dOd(a,b){var c=yf(),d=new yId;V(d,1,b);$Id(a.D,d).then(function(a){U(a,1)?c.resolve(U(a,2)):c.reject()},function(a){return c.reject(a)});return c.C}
function eOd(a,b){var c=HJd(a.H,b);if(!c||3!=c.getState())return null;var d=yf();c=new j2;V(c,1,b);a.D.Hj(c).then(function(a){d.resolve(a.Hj())},function(){return d.reject()});return d.C}p.fpb=function(a){var b=this,c=U(a,1),d=this.C;WId(this.D,a).then(function(a){a=a.Hj();b.H.C[c]=a;a=ritz_api.DbxApi.getSheetIdForQuery(c);fG(b.F,a);b.Ifa();QNd(b)},function(a){d.isDisposed()||d.Qoa(a)});d.Soa()};function bOd(a,b){b=U(b,2);a=a.L.C[b];b=U(a,3);a.getName();return b}
p.mwb=function(){var a=this,b=this.F.C.C,c=U(b.F,1),d=new j2;V(d,1,c);this.D.Hj(d).then(function(c){(c=c.Hj())&&3==c.getState()&&aOd(a,b.Hb(),c)})};p.jwb=function(){Gp("https://cloud.google.com/bigquery/docs/projects")};function gOd(){A.call(this)}q(gOd,Sz);gOd.prototype.C=function(){return ONd};Yz("dataconnector",gOd);
